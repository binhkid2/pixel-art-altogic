(this["webpackJsonpui-designer"]=this["webpackJsonpui-designer"]||[]).push([[34],{335:function(e,t,a){"use strict";var n=a(11),r=a(12),s=a(13),l=a(14),i=a(5),o=a.n(i),c=a(22),d=a(109),u=a(120),p=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children;return e.centered?o.a.createElement(u.a,{className:t.centeredContainer},a):o.a.createElement(u.a,{className:t.container},a)}}]),a}(o.a.PureComponent);p.defaultProps={centered:!1},t.a=Object(c.a)((function(e){return{container:{overflowY:"auto",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},centeredContainer:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"flex-start",overflowY:"auto",overflowX:"hidden"}}}),{withTheme:!0})(Object(d.a)()(p))},353:function(e,t,a){"use strict";var n=a(11),r=a(12),s=a(13),l=a(14),i=a(122),o=a(5),c=a.n(o),d=a(22),u=a(109),p=a(814),m=a(778),h=a(80),g=a(82),f=a(328),v=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.rightPanel,r=e.open,s=e.onClose;return c.a.createElement(c.a.Fragment,null,a,c.a.createElement(p.a,{anchor:"right",open:r,onClose:s,classes:{paper:t.rightPanel},elevation:4,ModalProps:{BackdropProps:{invisible:!0}}},this.renderHeader(),n))}},{key:"renderHeader",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.onClose;return c.a.createElement("div",{className:a.header},c.a.createElement("div",{className:a.title},c.a.createElement(h.a,{component:"h1",variant:"h6"},t("Activity history"))),c.a.createElement(m.a,{className:a.closeButton,onClick:n},c.a.createElement(g.a,{icon:f.x,className:a.closeButtonIcon})))}}]),a}(c.a.PureComponent);v.defaultProps={rightPanel:null,rightPanelName:null,open:!1,onClose:null},t.a=Object(d.a)((function(e){var t;return{rightPanel:(t={},Object(i.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(i.a)(t,e.breakpoints.up("sm"),{width:"380px"}),t),header:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:e.spacing(1),marginTop:e.spacing(1),flexShrink:0},title:{flexGrow:1,paddingLeft:e.spacing(2)},closeButton:{padding:e.spacing(.5),color:e.palette.grey[400]},closeButtonIcon:{width:"24px",height:"24px",minWidth:"24px"}}}),{withTheme:!0})(Object(u.a)()(v))},399:function(e,t,a){"use strict";var n=a(122);t.a=function(e){return{container:{overflowY:"auto",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},containerNoScroll:{overflowY:"hidden",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},content:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap",marginTop:e.spacing(2),marginRight:e.spacing(0),marginLeft:e.spacing(0),marginBottom:e.spacing(2),overflowY:"hidden",overflowX:"hidden"},contentPlaceholder:{flexGrow:1,overflowY:"auto",minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"},noDataPlaceholder:{flexGrow:1,overflowY:"auto",minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",marginTop:e.spacing(5)},headBar:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",marginTop:e.spacing(0),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),flexShrink:0},headBarToolBar:{display:"flex",alignItems:"center",fontSize:e.typography.body2.fontSize,minHeight:"40px"},input:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1),width:180},closeIcon:{color:e.palette.text.disabled,width:"16px",height:"16px","&:hover":{color:e.palette.text.primary,cursor:"pointer"}},menuButton:{padding:e.spacing(.5),marginRight:e.spacing(.5),color:"light"===e.palette.type?e.palette.text.secondary:e.palette.primary.linkForDark},menuButtonIcon:{width:"24px",height:"24px",minWidth:"24px"},closeButton:{position:"absolute",right:e.spacing(2),padding:e.spacing(.5),color:e.palette.grey[400]},noScroll:{overflowY:"hidden",overflowX:"hidden"},scrollY:{overflowY:"auto",overflowX:"hidden"},toolbarDivider:{height:22,marginTop:e.spacing(.5),marginRight:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(1)},flexCenter:{display:"flex",flexDirection:"row",alignItems:"center"},flexRow:{display:"flex",flexDirection:"row",alignItems:"flex-start"},flexStack:{display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap"},justifyCenter:{justifyContent:"center"},flexGrow:{flexGrow:1},borderFocused:{borderColor:e.palette.primary.light},block:{display:"block"},mlhalf:{marginLeft:e.spacing(.5)},mrhalf:{marginRight:e.spacing(.5)},ml1:{marginLeft:e.spacing(1)},ml2:{marginLeft:e.spacing(2)},mr1:{marginRight:e.spacing(1)},mr2:{marginRight:e.spacing(2)},mthalf:{marginTop:e.spacing(.5)},mt1:{marginTop:e.spacing(1)},mt2:{marginTop:e.spacing(2)},mt3:{marginTop:e.spacing(2)},mb1:{marginBottom:e.spacing(1)},mb2:{marginBottom:e.spacing(2)},padding3:{padding:e.spacing(3)},padding2:{padding:e.spacing(2)},padding1:{padding:e.spacing(1)},pr2:{paddingRight:e.spacing(2)},pl2:{paddingLeft:e.spacing(2)},pt2:{paddingTop:e.spacing(2)},pb2:{paddingBottom:e.spacing(2)},bgcolor:{backgroundColor:"light"===e.palette.type?e.palette.action.selected:e.palette.background.layer3},body1:{fontSize:e.typography.body1.fontSize},body2:{fontSize:e.typography.body2.fontSize},caption:{fontSize:e.typography.caption.fontSize},disabled:{color:e.palette.text.disabled},success:{color:e.palette.success.main},error:{color:e.palette.error.main},warning:{color:e.palette.warning.main},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},secondaryColor:{color:"light"===e.palette.type?"#f50057":"#ff4081"},primaryMain:{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},italic:{fontStyle:"italic"},bold:{fontWeight:500},extraBold:{fontWeight:700},showLineBreaks:{whiteSpace:"pre-wrap"},pointer:{cursor:"pointer"},link:{color:e.palette.text.primary,"&:hover":{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},anchor:{cursor:"pointer",color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark,"&:hover":{textDecoration:"underline"}},highlight:{backgroundColor:"#ffeb3b"},tabArea:{flexGrow:1,overflowY:"auto",overflowX:"hidden"},tabList:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.palette.divider,marginBottom:e.spacing(2),borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},tabTextWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},tabIcon:{marginRight:e.spacing(1),width:"18px",height:"18px",minWidth:"18px"},tabRoot:{minWidth:0},borderTop:{borderTop:"1px solid",borderTopColor:e.palette.divider},paper:{backgroundColor:"light"===e.palette.type?e.palette.background.default:e.palette.background.layer2},rounded:{borderRadius:e.spacing(1)},roundedStd:{borderRadius:e.shape.borderRadius},border:{border:"1px solid",borderColor:e.palette.divider},selectCount:{marginLeft:e.spacing(0),minWidth:"24px"},tableArea:{flexGrow:1,overflowY:"auto",overflowX:"auto"},table:{"& .ReactVirtualized__Table__headerRow":{borderBottom:"2px solid",borderBottomColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.16)"},"& .ReactVirtualized__Table__Grid":{outline:"none"}},headerCell:{display:"flex",alignItems:"center",boxSizing:"border-box",flex:1,border:0,fontWeight:500},dataCell:{display:"flex",alignItems:"center",boxSizing:"border-box",flex:1,border:0},visible:{overflow:"visible"},borderBottom:{borderBottom:"1px solid",borderBottomColor:e.palette.divider},contextMenuCell:{padding:0},contextMenuButton:{padding:e.spacing(.5),color:"light"===e.palette.type?e.palette.text.secondary:e.palette.primary.linkForDark},contextMenuIcon:{width:"24px",height:"24px",minWidth:"24px"},contextMenuIcon2:{width:"24px",height:"24px",minWidth:"24px",padding:e.spacing(.75)},tableHeadIcon:{marginRight:e.spacing(.5)},breakWord:{whiteSpace:"normal",wordWrap:"break-word"},folderColor:{color:"#ffd600"},noBorder:{border:0},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,minHeight:"20px",padding:e.spacing(0,.75),fontSize:e.typography.caption.fontSize,minWidth:"20px",alignContent:"center",display:"inline-block",borderRadius:"10px",lineHeight:"20px",textAlign:"center"},badgeGrey:{backgroundColor:"light"===e.palette.type?e.palette.background.layer3:e.palette.background.default,color:e.palette.text.secondary,minHeight:"20px",padding:e.spacing(0,.75),fontSize:e.typography.caption.fontSize,minWidth:"20px",alignContent:"center",display:"inline-block",borderRadius:"10px",lineHeight:"20px",textAlign:"center"},badgeSmall:{backgroundColor:"light"===e.palette.type?e.palette.background.layer3:e.palette.background.default,color:e.palette.text.secondary,minHeight:"16px",padding:e.spacing(0,.5),fontSize:e.typography.caption.fontSize,minWidth:"16px",alignContent:"center",display:"inline-block",borderRadius:"8px",lineHeight:"16px",textAlign:"center"},gridArea:Object(n.a)({flexGrow:1,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",alignContent:"flex-start",flexWrap:"wrap",overflowY:"auto",overflowX:"hidden"},e.breakpoints.up("md"),{paddingRight:e.spacing(1)}),gridItemLogo:{position:"absolute",fontSize:60,color:e.palette.background.layer3,bottom:e.spacing(2.5),right:e.spacing(1.5)},gridItemHeader:{padding:e.spacing(1,2),flexShrink:0,fontWeight:500,display:"flex",alignItems:"center",borderBottom:"1px solid",borderBottomColor:e.palette.divider,backgroundColor:e.palette.background.layer2,overflow:"hidden"},gridItemHeaderLink:{cursor:"pointer","&:hover":{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},gridItemContent:{padding:e.spacing(1,2),flexGrow:1,overflowY:"auto",overflowX:"hidden",zIndex:1},gridItemContentLink:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},gridItemContentEntry:{fontSize:e.typography.caption.fontSize,padding:e.spacing(.5),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},gridItemContentEntryBreakWord:{fontSize:e.typography.caption.fontSize,padding:e.spacing(.5),whiteSpace:"normal",wordWrap:"break-word"},gridItemContentEntryLink:{borderRadius:e.spacing(1),cursor:"pointer","&:hover":{backgroundColor:"light"===e.palette.type?e.palette.primary.bgColor:e.palette.action.hover,color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},gridItemContentEntryDisabled:{color:e.palette.text.disabled},gridItemFooter:{padding:e.spacing(.5,1.5),flexShrink:0,display:"flex",alignItems:"center"},fullWidth:{width:"100%"},description:{fontSize:e.typography.caption.fontSize,color:e.palette.text.disabled,fontStyle:"italic"},favorite:{marginLeft:e.spacing(.5),color:"#ff8a80",fontSize:"0.6rem",position:"relative",top:"-4px"},chip:{border:"none",height:"24px",display:"inline-flex",outline:0,fontSize:e.typography.caption.fontSize,alignItems:"center",whiteStapce:"nowrap",borderRadius:e.spacing(2),verticalAlign:"middle",justifyContent:"center",backgroundColor:e.palette.divider,padding:e.spacing(0,1),marginRight:e.spacing(.5),marginBottom:e.spacing(.25)},"@keyframes fadeBgColor":{"0%":{backgroundColor:"light"===e.palette.type?e.palette.primary.bgColor:e.palette.action.hover},"100%":{backgroundColor:"inherit"}},newEntry:{animation:"$fadeBgColor 6s forwards"},ellipsis:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},thickCellBorder:{borderBottom:"2px solid",borderBottomColor:e.palette.divider},cellBorder:{borderBottom:"1px solid",borderBottomColor:e.palette.divider},overflowHidden:{overflow:"hidden"},getMethod:{backgroundColor:e.palette.info.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},postMethod:{backgroundColor:e.palette.success.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},putMethod:{backgroundColor:e.palette.warning.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},deleteMethod:{backgroundColor:e.palette.error.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},disabledMethod:{backgroundColor:e.palette.background.layer3,color:e.palette.text.disabled,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},getMethodText:{color:e.palette.info.main,fontWeight:700},postMethodText:{color:e.palette.success.main,fontWeight:700},putMethodText:{color:e.palette.warning.main,fontWeight:700},deleteMethodText:{color:e.palette.error.main,fontWeight:700},disabledMethodText:{color:e.palette.error.disabled,fontWeight:700},nodeSystem:{color:e.palette.text.disabled},nodeBasic:{color:e.palette.success.main},nodeAdvanced:{color:e.palette.warning.main},nodeObject:{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},formLabel:{color:e.palette.text.primary,fontWeight:500,marginBottom:e.spacing(1),fontSize:e.typography.body2.fontSize,textTransform:"uppercase"}}}},517:function(e,t,a){"use strict";var n=a(11),r=a(12),s=a(13),l=a(14),i=a(5),o=a.n(i),c=a(22),d=a(109),u=a(774),p=a(82),m=a(81),h=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={panelAnchorEl:null},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.icon;return t.text?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:a.icon,onClick:function(t){return e.setState({panelAnchorEl:t.currentTarget})}},o.a.createElement(p.a,{icon:n,fixedWidth:!0})),this.renderPanel()):null}},{key:"renderPanel",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.text,s=this.state.panelAnchorEl;return s?o.a.createElement(u.a,{id:"descriptionPopUpPanel",anchorEl:s,open:Boolean(s),onClose:function(){return e.setState({panelAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement("div",{className:n.panel},o.a.createElement("div",{className:n.title},a("Description")),o.a.createElement("div",null,r))):null}}]),a}(o.a.PureComponent);h.defaultProps={icon:m.wb,text:null,type:"service"},t.a=Object(c.a)((function(e){return{icon:{cursor:"pointer",marginLeft:e.spacing(.5),color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},panel:{overflowY:"auto",width:400,maxHeight:600,whiteSpace:"pre-wrap",padding:e.spacing(2)},title:{fontWeight:500,marginBottom:e.spacing(1)}}}),{withTheme:!0})(Object(d.a)()(h))},618:function(e,t,a){"use strict";var n=a(11),r=a(12),s=a(13),l=a(14),i=a(5),o=a.n(i),c=a(22),d=a(109),u=a(774),p=a(82),m=a(81),h=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={panelAnchorEl:null},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.icon;return t.children?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:a.icon,onClick:function(t){return e.setState({panelAnchorEl:t.currentTarget})}},o.a.createElement(p.a,{icon:n,fixedWidth:!0})),this.renderPanel()):null}},{key:"renderPanel",value:function(){var e=this,t=this.props,a=t.classes,n=t.children,r=this.state.panelAnchorEl;return r?o.a.createElement(u.a,{id:"notesPopUpPanel",anchorEl:r,open:Boolean(r),onClose:function(){return e.setState({panelAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement("div",{className:a.panel},n)):null}}]),a}(o.a.PureComponent);h.defaultProps={icon:m.sb},t.a=Object(c.a)((function(e){return{icon:{cursor:"pointer",marginLeft:e.spacing(.5),color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},panel:{overflowY:"auto",maxHeight:600,whiteSpace:"pre-wrap",padding:e.spacing(2)},title:{fontWeight:700,marginBottom:e.spacing(1)}}}),{withTheme:!0})(Object(d.a)()(h))},894:function(e,t,a){"use strict";a.r(t);var n=a(129),r=a(2),s=a.n(r),l=a(3),i=a(15),o=a(4),c=a(11),d=a(12),u=a(13),p=a(14),m=a(5),h=a.n(m),g=a(18),f=a(349),v=a.n(f),b=a(346),E=a.n(b),y=a(506),k=a(51),S=a(22),x=a(511),w=a(109),C=a(323),O=a(177),_=a(120),j=a(810),N=a(904),A=a(589),F=a(778),M=a(80),D=a(499),I=a(299),T=a(671),G=a(804),B=a(880),R=a(745),W=a(119),L=a(561),P=a(877),q=a(794),H=a(669),z=a(82),K=a(326),Y=a(328),V=a(81),U=a(359),X=a(399),Q=function(e){return Object(o.a)(Object(o.a)({},Object(X.a)(e)),{},{content:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap",marginTop:e.spacing(2),paddingRight:e.spacing(2),paddingLeft:e.spacing(2),marginBottom:e.spacing(2)},itemList:{maxHeight:"150px",overflowY:"auto",overflowX:"hidden"},pl5:{paddingLeft:e.spacing(5)},gridItem:{display:"flex",flexDirection:"column",backgroundColor:e.palette.background.layer1,margin:e.spacing(1,0,2,0),position:"relative"},gridGroup:{width:"100%",display:"flex",flexDirection:"column",margin:e.spacing(1,0,1,0),position:"relative"},epList:{fontSize:e.typography.caption.fontSize,marginTop:e.spacing(2),padding:e.spacing(2),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.layer2},epList2:{maxHeight:300,overflowY:"auto"}})},J=a(342),$=a(335),Z=a(353),ee=a(337),te=a(71),ae=a(351),ne=a(392),re=a(368),se=a(544),le=a(605),ie=a(396),oe=a(649),ce=a(546),de=a(547),ue=a(545),pe=a(654),me=a(388),he=a(352),ge=a(517),fe=a(618),ve=a(377),be=a(60),Ee=a(110),ye=a(338),ke=a(16),Se=a(17),xe=["dataKey","flexGrow"],we=["dataKey","flexGrow"],Ce=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).clearFlag=function(){n.setState({showActionFlag:!1,actionMessage:null,actionType:"success"})},n.noRowsRenderer=function(e){var t=n.state.showGroups,a=n.props,r=a.t,s=a.classes,l=a.activeSnap;return 0!==a.services.length||0!==l.serviceGroups.length&&!1!==t?0===e.count&&n.hasFilters()?h.a.createElement("div",{className:Object(g.default)(s.noDataPlaceholder,s.padding2,s.borderBottom)},h.a.createElement(ye.a,{icon:V.vc,mainMessage:r("No services matching filter criteria"),message:r("Didn't find what you're looking for? Some services may be hidden because of the filters you've selected."),smallIcon:!0,action:r("Reset filters"),actionIcon:V.xd,callBack:n.resetFilters,searchResult:!0})):null:h.a.createElement("div",{className:Object(g.default)(s.noDataPlaceholder,s.padding2,s.borderBottom)},n.renderNoData())},n.noFunctionRowsRenderer=function(e){var t=n.props,a=t.t,r=t.classes;return 0===t.codeFunctions.length?h.a.createElement("div",{className:Object(g.default)(r.noDataPlaceholder,r.padding2,r.borderBottom)},n.renderNoFunctionData()):0===e.count&&n.hasFilters()?h.a.createElement("div",{className:Object(g.default)(r.noDataPlaceholder,r.padding2,r.borderBottom)},h.a.createElement(ye.a,{icon:V.vc,mainMessage:a("No functions matching filter criteria"),message:a("Didn't find what you're looking for? Some functions may be hidden because of the filters you've selected."),smallIcon:!0,action:a("Reset filters"),actionIcon:V.xd,callBack:n.resetFilters,searchResult:!0})):null},n.headerRenderer=function(e,t){var a=n.state,r=a.sortKey,s=a.order,l=a.multiSelect,i=n.props.classes;return"data"===e.type?e.sortKey?h.a.createElement(j.a,{component:"div",className:i.headerCell,style:{height:Se.a.tableHeaderHeight}},h.a.createElement(N.a,{active:r===e.sortKey,direction:r===e.sortKey?s:"asc",onClick:function(){return n.sort(e.sortKey)}},e.icon&&h.a.createElement(z.a,{icon:e.icon,className:i.tableHeadIcon,fixedWidth:!0}),e.label)):h.a.createElement(j.a,{component:"div",className:i.headerCell,style:{height:Se.a.tableHeaderHeight}},e.icon&&h.a.createElement(z.a,{icon:e.icon,className:i.tableHeadIcon,fixedWidth:!0}),e.label):"menu"===e.type?h.a.createElement(j.a,{component:"div",className:Object(g.default)(i.contextMenuCell,i.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},"\xa0"):"check"===e.type?h.a.createElement(j.a,{component:"div",className:Object(g.default)(i.contextMenuCell,i.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},h.a.createElement(B.a,{checked:l,onChange:function(){return n.selectMultiple(t)},color:"primary"})):void 0},n.functionHeaderRenderer=function(e,t){var a=n.state,r=a.functionSortKey,s=a.orderFunction,l=a.multiFunctionSelect,i=n.props.classes;return"data"===e.type?e.sortKey?h.a.createElement(j.a,{component:"div",className:i.headerCell,style:{height:Se.a.tableHeaderHeight}},h.a.createElement(N.a,{active:r===e.sortKey,direction:r===e.sortKey?s:"asc",onClick:function(){n.sort(e.sortKey)}},e.icon&&h.a.createElement(z.a,{icon:e.icon,className:i.tableHeadIcon,fixedWidth:!0}),e.label)):h.a.createElement(j.a,{component:"div",className:i.headerCell,style:{height:Se.a.tableHeaderHeight}},e.icon&&h.a.createElement(z.a,{icon:e.icon,className:i.tableHeadIcon,fixedWidth:!0}),e.label):"menu"===e.type?h.a.createElement(j.a,{component:"div",className:Object(g.default)(i.contextMenuCell,i.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},"\xa0"):"check"===e.type?h.a.createElement(j.a,{component:"div",className:Object(g.default)(i.contextMenuCell,i.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},h.a.createElement(B.a,{checked:l,onChange:function(){return n.selectMultiple(t)},color:"primary"})):void 0},n.rowRenderer=function(e){var t=n.state.showGroups,a=n.props.classes,r="group"===e.rowData._type&&n.isExpanded(e.rowData._id);return Object(H.d)(Object(o.a)(Object(o.a)({},e),{},{className:Object(g.default)(e.className,!t||"group"!==e.rowData._type||0!==e.rowData.items.length&&r?null:a.thickCellBorder,!1===t?a.cellBorder:null,e.rowData.isLastItem?a.thickCellBorder:null,Object(ke.h)(e.rowData,Se.a.newlyCreatedFlagDurationMs)?a.newEntry:null)}))},n.functionRowRenderer=function(e){var t=n.state.showFunctionGroups,a=n.props.classes,r="group"===e.rowData._type&&n.isExpanded(e.rowData._id);return Object(H.d)(Object(o.a)(Object(o.a)({},e),{},{className:Object(g.default)(e.className,!t||"group"!==e.rowData._type||0!==e.rowData.items.length&&r?null:a.thickCellBorder,!1===t?a.cellBorder:null,e.rowData.isLastItem?a.thickCellBorder:null,Object(ke.h)(e.rowData,Se.a.newlyCreatedFlagDurationMs)?a.newEntry:null)}))},n.cellRenderer=function(e){return"entry"===e.rowData._type?n.renderEntry(e.dataKey,e.rowData,e.isScrolling):n.renderGroup(e.dataKey,e.rowData,e.isScrolling)},n.getMethodClass=function(e,t){return!1===t.enabled?e.disabledMethodText:"GET"===t.method?e.getMethodText:"POST"===t.method?e.postMethodText:"PUT"===t.method?e.putMethodText:e.deleteMethodText},n.getGroup=function(e){for(var t=n.props.activeSnap,a=0;a<t.serviceGroups.length;a++){var r=t.serviceGroups[a];if(r._id===e.groupId)return r}return null},n.showContextMenu=function(e,t){n.setState({contextAnchorEl:e.currentTarget,selectedObj:t})},n.closeContextMenu=function(){n.setState({contextAnchorEl:null,selectedObj:null})},n.showHideGroups=function(){var e=n.state.showGroups;n.setState({filterAnchorEl:null,showGroups:!e}),Object(ke.m)("serviceListShowGroups",!e)},n.showHideFunctionGroups=function(){var e=n.state.showFunctionGroups;n.setState({filterFunctionAnchorEl:null,showFunctionGroups:!e}),Object(ke.m)("serviceListFunctionShowGroups",!e)},n.toggleView=function(e){var t={all:!1,endpoint:!1,messaging:!1,task:!1};t[e]=!0,n.setState({view:t,filterAnchorEl:null}),Object(ke.m)("serviceListViewType",t)},n.selectMultiple=function(e){var t=n.state,a=t.multiSelect,r=t.selectedItems,s=t.multiFunctionSelect,l=t.selectedFunctionItems;if("0"===t.activeTab)if(a)n.setState({multiSelect:!a,selectedItems:r.filter((function(t){for(var a=0;a<e.hierarchy.length;a++){var n=e.hierarchy[a];if("group"===n._type){if(n._id===t._id)return!1;for(var r=0;r<n.items.length;r++){if(n.items[r]._id===t._id)return!1}}else if(n._id===t._id)return!1}return!0}))});else{for(var o=[],c=0;c<e.hierarchy.length;c++){var d=e.hierarchy[c];o.push(d),"group"===d._type&&o.push.apply(o,Object(i.a)(d.items))}n.setState({multiSelect:!a,selectedItems:o})}else if(s)n.setState({multiFunctionSelect:!s,selectedFunctionItems:l.filter((function(t){for(var a=0;a<e.hierarchy.length;a++){var n=e.hierarchy[a];if("group"===n._type){if(n._id===t._id)return!1;for(var r=0;r<n.items.length;r++){if(n.items[r]._id===t._id)return!1}}else if(n._id===t._id)return!1}return!0}))});else{for(var u=[],p=0;p<e.hierarchy.length;p++){var m=e.hierarchy[p];u.push(m),"group"===m._type&&u.push.apply(u,Object(i.a)(m.items))}n.setState({multiFunctionSelect:!s,selectedFunctionItems:u})}},n.isChecked=function(e){var t,a=n.state,r=a.selectedItems,s=a.selectedFunctionItems;t="0"===a.activeTab?r:s;for(var l=0;l<t.length;l++){if(t[l]._id===e._id)return!0}return!1},n.manageSelection=function(e){var t=n.state,a=t.selectedItems,r=t.selectedFunctionItems,s=t.multiSelect,l=t.multiFunctionSelect;if("0"===t.activeTab)if(n.isChecked(e)){var o=a.filter((function(t){return t._id!==e._id}));n.setState({selectedItems:o,multiSelect:0!==o.length&&s})}else{var c=Object(i.a)(a);c.push(e),n.setState({selectedItems:c})}else if(n.isChecked(e)){var d=r.filter((function(t){return t._id!==e._id}));n.setState({selectedFunctionItems:d,multiFunctionSelect:0!==d.length&&l})}else{var u=Object(i.a)(r);u.push(e),n.setState({selectedFunctionItems:u})}},n.manageGroupSelection=function(e){var t=n.state,a=t.selectedItems,r=t.selectedFunctionItems,s=t.multiSelect,l=t.multiFunctionSelect;if("0"===t.activeTab)if(n.isChecked(e)){var o=a.filter((function(t){if(t._id===e._id)return!1;for(var a=0;a<e.items.length;a++){if(e.items[a]._id===t._id)return!1}return!0}));n.setState({selectedItems:o,multiSelect:0!==o.length&&s})}else{var c=Object(i.a)(a);c.push.apply(c,[e].concat(Object(i.a)(e.items))),n.setState({selectedItems:c})}else if(n.isChecked(e)){var d=r.filter((function(t){if(t._id===e._id)return!1;for(var a=0;a<e.items.length;a++){if(e.items[a]._id===t._id)return!1}return!0}));n.setState({selectedFunctionItems:d,multiFunctionSelect:0!==d.length&&l})}else{var u=Object(i.a)(r);u.push.apply(u,[e].concat(Object(i.a)(e.items))),n.setState({selectedFunctionItems:u})}},n.refreshSelection=function(){var e=n.state,t=e.selectedItems,a=e.selectedFunctionItems,r=e.activeTab,s=[],l=n.getProcessedItems();if("0"===r){for(var i=0;i<t.length;i++){var o=t[i],c=n.getHierarchyEntry(l,o);c&&s.push(c)}n.setState({selectedItems:s})}else{for(var d=0;d<a.length;d++){var u=a[d],p=n.getHierarchyEntry(l,u);p&&s.push(p)}n.setState({selectedFunctionItems:s})}},n.hasFilters=function(){var e=n.state,t=e.searchStr,a=e.searchFunctionStr,r=e.view;return"0"===e.activeTab?!!(""!==t||r.endpoint||r.messaging||r.task):""!==a},n.resetFilters=function(){"0"===n.state.activeTab?n.setState({searchStr:"",view:{all:!0,enabled:!1,disabled:!1}}):n.setState({searchFunctionStr:""})},n.sort=function(e){var t=n.state,a=t.sortKey,r=t.functionSortKey,s=t.order,l=t.orderFunction;"0"===t.activeTab?e===a?(Object(ke.m)("serviceListSortOrder","asc"===s?"desc":"asc"),n.setState({order:"asc"===s?"desc":"asc"})):(Object(ke.m)("serviceListSortKey",e),Object(ke.m)("serviceListSortOrder","asc"),n.setState({sortKey:e,order:"asc"})):e===r?(Object(ke.m)("serviceListFunctionSortOrder","asc"===l?"desc":"asc"),n.setState({orderFunction:"asc"===l?"desc":"asc"})):(Object(ke.m)("serviceListFunctionSortKey",e),Object(ke.m)("serviceListFunctionSortOrder","asc"),n.setState({functionSortKey:e,orderFunction:"asc"}))},n.sort2=function(e,t){"0"===n.state.activeTab?(Object(ke.m)("serviceListSortKey",e),Object(ke.m)("serviceListSortOrder",t),n.setState({sortKey:e,order:t,filterAnchorEl:null})):(Object(ke.m)("serviceListFunctionSortKey",e),Object(ke.m)("serviceListFunctionSortOrder",t),n.setState({functionSortKey:e,orderFunction:t,filterAnchorEl:null}))},n.filterByView=function(e){var t=n.state.view;return!(!t.endpoint||"endpoint"!==e.type)||(!(!t.messaging||"messaging"!==e.type)||!(!t.task||"task"!==e.type))},n.moveToGroup=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,l,i,o,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,l=a.user,i=a.app,o=a.activeSnap,c=a.moveServicesToGroupAction,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(l._id,l.token,i._id,o._id,t._id,{services:[d._id]});case 5:200===e.sent.status?n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Moved service to group %s").sprintf(t.name),actionType:"success"}):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.enableService=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.enableServicesAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,o(r._id,r.token,l._id,i._id,{info:[{name:c.name,_id:c._id}],serviceIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Enabled service"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.enableServices=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c,d,u,p,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.authAction,c=t.enableServicesAction,d=n.state.selectedItems,u=[],p=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===o("update-service",{app:l,activeSnap:i,service:h})&&!1===h.enabled&&(u.push({name:h.name,_id:h._id}),p.push(h._id));if(0!==p.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,l._id,i._id,{info:u,serviceIds:p});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Enabled %s service(s)").sprintf(p.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.disableService=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.disableServicesAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,o(r._id,r.token,l._id,i._id,{info:[{name:c.name,_id:c._id}],serviceIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Disabled service"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.disableServices=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c,d,u,p,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.authAction,c=t.disableServicesAction,d=n.state.selectedItems,u=[],p=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===o("update-service",{app:l,activeSnap:i,service:h})&&h.enabled&&(u.push({name:h.name,_id:h._id}),p.push(h._id));if(0!==p.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,l._id,i._id,{info:u,serviceIds:p});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Disabled %s service(s)").sprintf(p.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.moveMultiToGroup=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,l,i,o,c,d,u,p,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,l=a.user,i=a.app,o=a.activeSnap,c=a.moveServicesToGroupAction,d=a.authAction,u=n.state.selectedItems,p=[],m=0;m<u.length;m++)"entry"!==(h=u[m])._type||1!==d("update-service",{app:i,activeSnap:o,service:h})||h.groupId===t._id&&(h.groupId||-1===t._id)||p.push(h._id);if(0!==p.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({selectedMenuAnchorEl:null,multiProgress:!0}),e.next=10,c(l._id,l.token,i._id,o._id,t._id,{services:p});case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Moved %s service(s) to group %s").sprintf(p.length,t.name),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteFunction=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,l=t.app,i=t.deleteFunctionAction,o=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,i(r._id,r.token,l._id,o._id,{funciname:o.iname,funcName:o.name});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Deleted function"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.deleteFunctions=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,l,i,o,c,d,u,p,m,h,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,l=a.user,i=a.app,o=a.authAction,c=a.deleteFunctionsAction,d=n.state.selectedFunctionItems,u=[],p=[],m=[],t=t||d,h=0;h<t.length;h++)"entry"===(g=t[h])._type&&1===o("delete-function",{app:i,func:g})&&(u.push(g._id),p.push(g.iname),m.push(g.name));if(0!==u.length){e.next=10;break}return n.setState({selectedFunctionsMenuAnchorEl:null}),e.abrupt("return");case 10:return n.setState({multiProgress:!0,selectedFunctionsMenuAnchorEl:null}),e.next=13,c(l._id,l.token,i._id,{funcIds:u,funcinames:p,funcNames:m});case 13:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Deleted %s functions(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteService=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.deleteServiceAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,o(r._id,r.token,l._id,i._id,c._id,{serviceiname:c.iname,serviceName:c.name});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Deleted service"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.deleteServices=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,l,i,o,c,d,u,p,m,h,g,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,l=a.user,i=a.app,o=a.activeSnap,c=a.authAction,d=a.deleteServicesAction,u=n.state.selectedItems,p=[],m=[],h=[],t=t||u,g=0;g<t.length;g++)"entry"===(f=t[g])._type&&1===c("delete-service",{app:i,activeSnap:o,service:f})&&(p.push(f._id),m.push(f.iname),h.push(f.name));if(0!==p.length){e.next=10;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 10:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=13,d(l._id,l.token,i._id,o._id,{serviceIds:p,serviceinames:m,serviceNames:h});case 13:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Deleted %s service(s)").sprintf(p.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteServiceGroup=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.user,r=t.app,l=t.activeSnap,i=t.deleteServiceGroupAction,o=n.state.selectedObj,n.setState({contextAnchorEl:null,progress:!0}),e.next=5,i(a._id,a.token,r._id,l._id,o._id);case 5:n.refreshSelection(),n.setState({progress:!1,selectedObj:null});case 7:case"end":return e.stop()}}),e)}))),n.deleteGroupAndServices=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.user,r=t.app,l=t.activeSnap,i=t.deleteServiceGroupAction,o=n.state.selectedObj,n.setState({contextAnchorEl:null,progress:!0}),e.next=5,n.deleteServices(o.items);case 5:return e.next=7,i(a._id,a.token,r._id,l._id,o._id);case 7:n.refreshSelection(),n.setState({progress:!1,selectedObj:null});case 9:case"end":return e.stop()}}),e)}))),n.deleteServiceGroups=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c,d,u,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,l=t.app,i=t.activeSnap,o=t.authAction,c=t.deleteMultiServiceGroupAction,d=n.state.selectedItems,u=[],p=0;p<d.length;p++)"group"===(m=d[p])._type&&1===o("update-snapshot",{app:l,activeSnap:i})&&u.push(m._id);if(0!==u.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=10,c(r._id,r.token,l._id,i._id,u);case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Deleted %s service group(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)}))),n.createServiceCopy=Object(l.a)(s.a.mark((function e(){var t,a,r,l,i,o,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.user,r=t.app,l=t.activeSnap,i=t.createServiceCopyAction,o=t.history,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,i(a._id,a.token,r._id,l._id,c._id);case 5:if(200!==(d=e.sent).status){e.next=13;break}if(n.setState({progress:!1,selectedObj:null}),!a.uiPreferences||!a.uiPreferences.navigateToNewlyCreated){e.next=11;break}return o.push("/users/".concat(a._id,"/apps/").concat(r._id,"/snaps/").concat(l._id,"/services/").concat(d.data._id)),e.abrupt("return");case 11:e.next=14;break;case 13:n.setState({progress:!1,selectedObj:null});case 14:case"end":return e.stop()}}),e)}))),n.expandGroup=function(e){var t=n.state,a=t.expandedGroups,r=t.expandedFunctionGroups;if("0"===t.activeTab){var s=[].concat(Object(i.a)(a),[e]);n.setState({expandedGroups:s})}else{var l=[].concat(Object(i.a)(r),[e]);n.setState({expandedFunctionGroups:l})}},n.collapseGroup=function(e){var t=n.state,a=t.expandedGroups,r=t.expandedFunctionGroups;if("0"===t.activeTab){var s=a.filter((function(t){return t!==e}));n.setState({expandedGroups:s})}else{var l=r.filter((function(t){return t!==e}));n.setState({expandedFunctionGroups:l})}},n.isExpanded=function(e){var t=n.state,a=t.expandedGroups,r=t.expandedFunctionGroups;return"0"===t.activeTab?a.includes(e):r.includes(e)};var r=n.props.user.uiPreferences.defaultSortOrder,d="createdAt",u="desc";"most-recent"===r?(d="createdAt",u="desc"):"oldest-first"===r?(d="createdAt",u="asc"):"alphabetically-asc"===r?(d="name",u="asc"):(d="name",u="desc");var p="createdAt",m="desc";"most-recent"===r?(p="createdAt",m="desc"):"oldest-first"===r?(p="createdAt",m="asc"):"alphabetically-asc"===r?(p="name",m="asc"):(p="name",m="desc");var f="no-code";e.location.search&&(f=new URLSearchParams(e.location.search).get("type"));return n.state={errorTitle:null,errorMessage:null,searchStr:"",searchFunctionStr:"",sortKey:Object(ke.g)("serviceListSortKey",d),order:Object(ke.g)("serviceListSortOrder",u),showGroups:Object(ke.g)("serviceListShowGroups",!0),view:Object(ke.g)("serviceListViewType",{all:!0,endpoint:!1,messaging:!1,task:!1}),functionSortKey:Object(ke.g)("serviceListFunctionSortKey",p),orderFunction:Object(ke.g)("serviceListFunctionSortOrder",m),showFunctionGroups:Object(ke.g)("serviceListFunctionShowGroups",!0),showRightPanel:!1,selectedItems:[],selectedFunctionItems:[],multiProgress:!1,addAnchorEl:null,addFunctionAnchorEl:null,filterAnchorEl:null,filterFunctionAnchorEl:null,openCreateDialog:!1,openCreateGroupDialog:!1,openConfirmDialog:!1,openConfirmFunctionDialog:!1,openRenameDialog:!1,openConfirmDialogMulti:!1,openConfirmFunctionDialogMulti:!1,openManageQueueDialog:!1,openManageTaskDialog:!1,openManageEndpointDialog:!1,newServiceType:null,selectedObj:null,multiSelect:!1,multiFunctionSelect:!1,progress:!1,contextAnchorEl:null,showActionFlag:!1,actionMessage:null,actionType:"success",selectedMenuAnchorEl:null,selectedFunctionsMenuAnchorEl:null,expandedGroups:[],expandedFunctionGroups:[],activeTab:"no-code"===f?"0":"1",openManageCFDialog:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,d,u,p,m,h,g,f,v,b,E,y,k,S,x,w,C,O,_,j,N,A,F,M,D,I;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,a=this.props,n=a.t,r=a.user,l=a.app,i=a.activeSnap,o=a.team,c=a.models,d=a.services,u=a.codeFunctions,p=a.endpoints,m=a.queues,h=a.tasks,g=a.getAppAction,f=a.getAppTeamAction,v=a.getSnapshotAction,b=a.setActiveSnapshotAction,E=a.getModelsAction,y=a.getServicesAction,k=a.getEndpointsAction,S=a.getQueuesAction,x=a.getTasksAction,w=a.getCodeFunctionsAction,C=a.match,O=l||null,_=o||null,j=d||null,N=null,A=p||null,F=m||null,M=h||null,D=c||null,I=u||null,i&&i._id===C.params.snapId?N=i:(N=null,j=null,A=null,F=null,M=null,D=null),O){e.next=22;break}return e.next=15,g(C.params.userId,r.token,C.params.appId);case 15:if(200===(t=e.sent).status){e.next=21;break}return this.setState({errorTitle:n("An error has occured while loading the application!"),errorMessage:t.data.details}),e.abrupt("return");case 21:O=t.data;case 22:if(_||!O){e.next=32;break}return e.next=25,f(C.params.userId,r.token,C.params.appId);case 25:if(200===(t=e.sent).status){e.next=31;break}return this.setState({errorTitle:n("An error has occured while loading the team information!"),errorMessage:t.data.details}),e.abrupt("return");case 31:_=t.data;case 32:if(N||!_){e.next=43;break}return e.next=35,v(C.params.userId,r.token,C.params.appId,C.params.snapId);case 35:if(200===(t=e.sent).status){e.next=41;break}return this.setState({errorTitle:n("An error has occured while loading the snapshot information!"),errorMessage:t.data.details}),e.abrupt("return");case 41:N=t.data,b(t.data);case 43:if(D||!N){e.next=53;break}return e.next=46,E(C.params.userId,r.token,C.params.appId,C.params.snapId);case 46:if(200===(t=e.sent).status){e.next=52;break}return this.setState({errorTitle:n("An error has occured while loading models!"),errorMessage:t.data.details}),e.abrupt("return");case 52:D=t.data;case 53:if(j||!N){e.next=63;break}return e.next=56,y(C.params.userId,r.token,C.params.appId,C.params.snapId);case 56:if(200===(t=e.sent).status){e.next=62;break}return this.setState({errorTitle:n("An error has occured while loading services!"),errorMessage:t.data.details}),e.abrupt("return");case 62:j=t.data;case 63:if(I||!r||!O){e.next=73;break}return e.next=66,w(C.params.userId,r.token,C.params.appId);case 66:if(200===(t=e.sent).status){e.next=72;break}return this.setState({errorTitle:n("An error has occured while loading full-code services!"),errorMessage:t.data.details}),e.abrupt("return");case 72:I=t.data;case 73:if(A||!N){e.next=83;break}return e.next=76,k(C.params.userId,r.token,C.params.appId,C.params.snapId);case 76:if(200===(t=e.sent).status){e.next=82;break}return this.setState({errorTitle:n("An error has occured while loading endpoints!"),errorMessage:t.data.details}),e.abrupt("return");case 82:A=t.data;case 83:if(F||!N){e.next=93;break}return e.next=86,S(C.params.userId,r.token,C.params.appId,C.params.snapId);case 86:if(200===(t=e.sent).status){e.next=92;break}return this.setState({errorTitle:n("An error has occured while loading message queues!"),errorMessage:t.data.details}),e.abrupt("return");case 92:F=t.data;case 93:if(M||!N){e.next=103;break}return e.next=96,x(C.params.userId,r.token,C.params.appId,C.params.snapId);case 96:if(200===(t=e.sent).status){e.next=102;break}return this.setState({errorTitle:n("An error has occured while loading tasks!"),errorMessage:t.data.details}),e.abrupt("return");case 102:M=t.data;case 103:document.title=n("Services")+" | Altogic";case 104:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(e,t){var a=e.openDialog,n=e.width;return!a||n!==this.props.width}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.theme,s=t.app,l=t.team,o=t.activeSnap,c=t.services,d=t.codeFunctions,u=t.width,p=this.state,m=p.errorMessage,f=p.errorTitle,v=p.openCreateDialog,b=p.openCreateGroupDialog,E=p.openConfirmDialog,y=p.openConfirmFunctionDialog,k=p.openRenameDialog,S=p.openConfirmDialogMulti,w=p.openConfirmFunctionDialogMulti,C=p.openManageQueueDialog,O=p.openManageTaskDialog,j=p.openManageEndpointDialog,N=p.selectedObj,A=p.selectedItems,F=p.selectedFunctionItems,M=p.newServiceType,D=p.openManageCFDialog;if(m||f)return h.a.createElement($.a,{centered:!0},h.a.createElement(_.a,{className:n.content},h.a.createElement(_.a,{className:n.contentPlaceholder},h.a.createElement(te.a,{mainMessage:f,message:m}))));if(s&&l&&o&&c&&d){var I=[],G=[],B=[];return S&&A&&A.length>0?A.forEach((function(e){"entry"===e._type&&(I.push.apply(I,Object(i.a)(e._endpoints)),G.push.apply(G,Object(i.a)(e._queues)),B.push.apply(B,Object(i.a)(e._tasks)))})):w&&F&&F.length>0&&F.forEach((function(e){"entry"===e._type&&(I.push.apply(I,Object(i.a)(e._endpoints)),G.push.apply(G,Object(i.a)(e._queues)),B.push.apply(B,Object(i.a)(e._tasks)))})),h.a.createElement(_.a,{className:"xs"===u||"sm"===u?n.container:n.containerNoScroll},this.renderContent(),v&&h.a.createElement(se.a,{fullWidth:!0,maxWidth:"sm",open:v,handleClose:function(){return e.setState({openCreateDialog:!1,newServiceType:null,selectedObj:null})},type:M,service:N}),b&&h.a.createElement(le.a,{fullWidth:!0,maxWidth:"sm",open:b,handleClose:function(){return e.setState({openCreateGroupDialog:!1})}}),E&&h.a.createElement(ie.a,{fullWidth:!0,maxWidth:"sm",open:E,handleClose:function(){return e.setState({openConfirmDialog:!1})},title:a("Confirm delete no-code service"),message:h.a.createElement("div",null,(N._endpoints&&N._endpoints.length>0||N._queues&&N._queues.length>0||N._tasks&&N._tasks.length>0)&&h.a.createElement(T.a,{severity:"warning",className:n.planInfo},N._endpoints&&N._endpoints.length>0&&h.a.createElement(x.a,{defaults:1===N._endpoints.length?a('There is <bold>%s endpoint dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in routing requests at impacted endpoint.').sprintf(N._endpoints.length,N.name,N.name):a('There are <bold>%s endpoints dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in routing requests at impacted endpoints.').sprintf(N._endpoints.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}}),N._queues&&N._queues.length>0&&h.a.createElement(x.a,{defaults:1===N._queues.length?a('There is <bold>%s queue dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in processing messages at impacted message queue.').sprintf(N._queues.length,N.name,N.name):a('There are <bold>%s queues dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in processing messages at impacted message queues.').sprintf(N._queues.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}}),N._tasks&&N._tasks.length>0&&h.a.createElement(x.a,{defaults:1===N._tasks.length?a('There is <bold>%s task dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in processing scheduled jobs at impacted task.').sprintf(N._tasks.length,N.name,N.name):a('There are <bold>%s tasks dependent to service "%s"</bold>. Deleting service <bold>%s</bold> can result in problems in processing scheduled jobs at impacted tasks.').sprintf(N._tasks.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}})),h.a.createElement("div",{className:n.mt2},h.a.createElement(x.a,{defaults:a('Are you sure you would like to delete no-code service <bold>"%s"</bold> in snapshot <bold>%s</bold>?').sprintf(N.name,o.name),components:{bold:h.a.createElement("strong",null)}})),(N._endpoints&&N._endpoints.length>0||N._queues&&N._queues.length>0||N._tasks&&N._tasks.length>0)&&h.a.createElement("div",{className:Object(g.default)(n.epList,"xs"===u?null:n.epList2)},N._endpoints&&N._endpoints.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent endpoints:")),N._endpoints.map((function(t){return h.a.createElement("div",{key:t._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.sc,style:{marginRight:r.spacing(.5)}}),t.name),h.a.createElement("div",{style:{marginTop:r.spacing(1)}},h.a.createElement("span",{className:e.getMethodClass(n,t)},t.method),"\xa0-\xa0",h.a.createElement("span",{className:n.path},t.path)),h.a.createElement("div",null,"\xa0"))}))),N._queues&&N._queues.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent message queues:")),N._queues.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.hc,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))),N._tasks&&N._tasks.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent tasks:")),N._tasks.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.a,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))))),redHeader:!0,action:a("Delete"),onAction:this.deleteService}),y&&h.a.createElement(ie.a,{fullWidth:!0,maxWidth:"sm",open:y,handleClose:function(){return e.setState({openConfirmFunctionDialog:!1})},title:a("Confirm delete full-code service"),message:h.a.createElement("div",null,(N._endpoints&&N._endpoints.length>0||N._queues&&N._queues.length>0||N._tasks&&N._tasks.length>0)&&h.a.createElement(T.a,{severity:"warning",className:n.planInfo},N._endpoints&&N._endpoints.length>0&&h.a.createElement(x.a,{defaults:1===N._endpoints.length?a('There is <bold>%s endpoint dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in routing requests at impacted endpoint.').sprintf(N._endpoints.length,N.name,N.name):a('There are <bold>%s endpoints dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in routing requests at impacted endpoints.').sprintf(N._endpoints.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}}),N._queues&&N._queues.length>0&&h.a.createElement(x.a,{defaults:1===N._queues.length?a('There is <bold>%s queue dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in processing messages at impacted message queue.').sprintf(N._queues.length,N.name,N.name):a('There are <bold>%s queues dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in processing messages at impacted message queues.').sprintf(N._queues.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}}),N._tasks&&N._tasks.length>0&&h.a.createElement(x.a,{defaults:1===N._tasks.length?a('There is <bold>%s task dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in processing scheduled jobs at impacted task.').sprintf(N._tasks.length,N.name,N.name):a('There are <bold>%s tasks dependent to function "%s"</bold>. Deleting function <bold>%s</bold> can result in problems in processing scheduled jobs at impacted tasks.').sprintf(N._tasks.length,N.name,N.name),components:{bold:h.a.createElement("strong",null)}})),h.a.createElement("div",{className:n.mt2},h.a.createElement(x.a,{defaults:a('Are you sure you would like to delete full-code service <bold>"%s"</bold> in app <bold>%s</bold>?').sprintf(N.name,s.name),components:{bold:h.a.createElement("strong",null)}})),(N._endpoints&&N._endpoints.length>0||N._queues&&N._queues.length>0||N._tasks&&N._tasks.length>0)&&h.a.createElement("div",{className:Object(g.default)(n.epList,"xs"===u?null:n.epList2)},N._endpoints&&N._endpoints.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent endpoints:")),N._endpoints.map((function(t){return h.a.createElement("div",{key:t._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.sc,style:{marginRight:r.spacing(.5)}}),t.name),h.a.createElement("div",{style:{marginTop:r.spacing(1)}},h.a.createElement("span",{className:e.getMethodClass(n,t)},t.method),"\xa0-\xa0",h.a.createElement("span",{className:n.path},t.path)),h.a.createElement("div",null,"\xa0"))}))),N._queues&&N._queues.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent message queues:")),N._queues.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.hc,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))),N._tasks&&N._tasks.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent tasks:")),N._tasks.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.a,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))))),redHeader:!0,action:a("Delete"),onAction:this.deleteFunction}),k&&h.a.createElement(oe.a,{fullWidth:!0,maxWidth:"sm",open:k,handleClose:function(){return e.setState({openRenameDialog:!1,selectedObj:null})},group:N}),S&&h.a.createElement(ie.a,{fullWidth:!0,maxWidth:"sm",open:S,handleClose:function(){return e.setState({openConfirmDialogMulti:!1})},title:a("Confirm delete no-code services"),message:h.a.createElement("div",null,(I&&I.length>0||G&&G.length>0||B&&B.length>0)&&h.a.createElement(T.a,{severity:"warning",className:n.planInfo},I&&I.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===I.length?a("There is <bold>%s endpoint dependent to selected services</bold>. Deleting services can result in problems in routing requests at impacted endpoint.").sprintf(I.length):a("There are <bold>%s endpoints dependent to selected services</bold>. Deleting services can result in problems in routing requests at impacted endpoints.").sprintf(I.length),components:{bold:h.a.createElement("strong",null)}})),G&&G.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===G.length?a("There is <bold>%s message queue dependent to selected services</bold>. Deleting services can result in problems in processing messages at impacted message queue.").sprintf(G.length):a("There are <bold>%s message queues dependent to selected services</bold>. Deleting services can result in problems in processing messages at impacted message queues.").sprintf(G.length),components:{bold:h.a.createElement("strong",null)}})),B&&B.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===B.length?a("There is <bold>%s task dependent to selected services</bold>. Deleting services can result in problems in processing scheduled jobs at impacted task.").sprintf(B.length):a("There are <bold>%s tasks dependent to selected services</bold>. Deleting services can result in problems in processing scheduled jobs at impacted tasks.").sprintf(B.length),components:{bold:h.a.createElement("strong",null)}}))),h.a.createElement("div",{className:n.mt2},h.a.createElement(x.a,{defaults:a("Are you sure you would like to delete <bold>selected services</bold> in snapshot <bold>%s</bold>?").sprintf(o.name),components:{bold:h.a.createElement("strong",null)}})),(I&&I.length>0||G&&G.length>0||B&&B.length>0)&&h.a.createElement("div",{className:Object(g.default)(n.epList,"xs"===u?null:n.epList2)},I&&I.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent endpoints:")),I.map((function(t){return h.a.createElement("div",{key:t._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.sc,style:{marginRight:r.spacing(.5)}}),t.name),h.a.createElement("div",{style:{marginTop:r.spacing(1)}},h.a.createElement("span",{className:e.getMethodClass(n,t)},t.method),"\xa0-\xa0",h.a.createElement("span",{className:n.path},t.path)),h.a.createElement("div",null,"\xa0"))}))),G&&G.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent message queues:")),G.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.hc,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))),B&&B.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent tasks:")),B.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.a,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))))),redHeader:!0,action:a("Delete"),onAction:this.deleteServices}),w&&h.a.createElement(ie.a,{fullWidth:!0,maxWidth:"sm",open:w,handleClose:function(){return e.setState({openConfirmFunctionDialogMulti:!1})},title:a("Confirm delete full-code services"),message:h.a.createElement("div",null,(I&&I.length>0||G&&G.length>0||B&&B.length>0)&&h.a.createElement(T.a,{severity:"warning",className:n.planInfo},I&&I.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===I.length?a("There is <bold>%s endpoint dependent to selected functions</bold>. Deleting functions can result in problems in routing requests at impacted endpoint.").sprintf(I.length):a("There are <bold>%s endpoints dependent to selected functions</bold>. Deleting functions can result in problems in routing requests at impacted endpoints.").sprintf(I.length),components:{bold:h.a.createElement("strong",null)}})),G&&G.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===G.length?a("There is <bold>%s message queue dependent to selected functions</bold>. Deleting functions can result in problems in processing messages at impacted message queue.").sprintf(G.length):a("There are <bold>%s message queues dependent to selected functions</bold>. Deleting functions can result in problems in processing messages at impacted message queues.").sprintf(G.length),components:{bold:h.a.createElement("strong",null)}})),B&&B.length>0&&h.a.createElement("div",null,h.a.createElement(x.a,{defaults:1===B.length?a("There is <bold>%s task dependent to selected functions</bold>. Deleting functions can result in problems in processing scheduled jobs at impacted task.").sprintf(B.length):a("There are <bold>%s tasks dependent to selected functions</bold>. Deleting functions can result in problems in processing scheduled jobs at impacted tasks.").sprintf(B.length),components:{bold:h.a.createElement("strong",null)}}))),h.a.createElement("div",{className:n.mt2},h.a.createElement(x.a,{defaults:a("Are you sure you would like to delete <bold>selected functions</bold> in app <bold>%s</bold>?").sprintf(s.name),components:{bold:h.a.createElement("strong",null)}})),(I&&I.length>0||G&&G.length>0||B&&B.length>0)&&h.a.createElement("div",{className:Object(g.default)(n.epList,"xs"===u?null:n.epList2)},I&&I.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent endpoints:")),I.map((function(t){return h.a.createElement("div",{key:t._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.sc,style:{marginRight:r.spacing(.5)}}),t.name),h.a.createElement("div",{style:{marginTop:r.spacing(1)}},h.a.createElement("span",{className:e.getMethodClass(n,t)},t.method),"\xa0-\xa0",h.a.createElement("span",{className:n.path},t.path)),h.a.createElement("div",null,"\xa0"))}))),G&&G.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent message queues:")),G.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.hc,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))),B&&B.length>0&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(2),fontWeight:500}},a("Dependent tasks:")),B.map((function(e){return h.a.createElement("div",{key:e._id},h.a.createElement("div",{className:n.model},h.a.createElement(z.a,{icon:V.a,style:{marginRight:r.spacing(.5)}}),e.name),h.a.createElement("div",null,"\xa0"))}))))),redHeader:!0,action:a("Delete"),onAction:this.deleteFunctions}),C&&h.a.createElement(ce.a,{fullWidth:!0,maxWidth:"sm",open:C,handleClose:function(){return e.setState({openManageQueueDialog:!1,selectedObj:null})},queue:N}),O&&h.a.createElement(de.a,{fullWidth:!0,maxWidth:"sm",open:O,handleClose:function(){return e.setState({openManageTaskDialog:!1,selectedObj:null})},task:N}),j&&h.a.createElement(ue.a,{fullWidth:!0,maxWidth:"sm",open:j,handleClose:function(){return e.setState({openManageEndpointDialog:!1,selectedObj:null})},endpoint:{endpoint:N}}),D&&h.a.createElement(pe.a,{fullWidth:!0,maxWidth:"md",open:D,handleClose:function(){return e.setState({openManageCFDialog:!1,selectedObj:null})},functionId:N._id}))}return h.a.createElement($.a,{centered:!0},h.a.createElement(_.a,{className:n.content},h.a.createElement(_.a,{className:n.contentPlaceholder},h.a.createElement(ee.a,{message:a("Loading services...")}))))}},{key:"renderContent",value:function(){var e=this,t=this.props,a=t.classes,n=t.width,r=this.state,s=r.showRightPanel,l=r.activeTab,i=this.getProcessedItems();return h.a.createElement(_.a,{className:a.content},this.renderTabs(),"0"===l&&h.a.createElement(h.a.Fragment,null,this.renderPlanConstraint(),this.renderToolBar(i),this.renderSelectedMenu(),h.a.createElement(Z.a,{rightPanel:this.renderRightPanel(),rightPanelName:"servicesHistory",open:s,onClose:function(){return e.setState({showRightPanel:!s})}},"xs"===n||"sm"===n?this.renderGrid(i):this.renderTable(i),this.renderContextMenu(),this.renderActionFlag())),"1"===l&&h.a.createElement(h.a.Fragment,null,this.renderInfo(),this.renderFunctionPlanConstraint(),this.renderFunctionToolBar(i),this.renderFunctionSelectedMenu(),h.a.createElement(Z.a,{rightPanel:this.renderRightPanel(),rightPanelName:"functionsHistory",open:s,onClose:function(){return e.setState({showRightPanel:!s})}},"xs"===n||"sm"===n?this.renderFunctionGrid(i):this.renderFunctionTable(i),this.renderFunctionContextMenu(),this.renderActionFlag())))}},{key:"renderTabs",value:function(){var e=this,t=this.props,a=t.t,n=t.theme,r=t.classes,s=t.services,l=t.codeFunctions,i=t.user,o=t.app,c=t.activeSnap,d=t.history,u=this.state.activeTab;return h.a.createElement("div",{className:Object(g.default)(r.tabList,r.mt2)},h.a.createElement(P.a,{value:u,onChange:function(t,a){e.setState({activeTab:a}),c&&-1!==c?d.push("/users/".concat(i._id,"/apps/").concat(o._id,"/snaps/").concat(c._id,"/services?type=").concat("0"===a?"no-code":"full-code")):d.push("/users/".concat(i._id,"/apps/").concat(o._id,"/snaps/services?type=").concat("0"===a?"no-code":"full-code"))},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},h.a.createElement(q.a,{value:"0",label:h.a.createElement("div",{className:r.tabTextWrapper},h.a.createElement(z.a,{icon:V.Fc,className:r.tabIcon}),a("No-code"),0!==s.length&&h.a.createElement("span",{className:r.mlhalf},"(",s.length,")")),classes:{root:r.tabRoot}}),h.a.createElement(q.a,{value:"1",label:h.a.createElement("div",{className:r.tabTextWrapper},h.a.createElement(z.a,{icon:V.V,className:r.tabIcon}),a("Full-code"),0!==l.length&&h.a.createElement("span",{className:r.mlhalf},"(",l.length,")"),h.a.createElement("span",{style:{verticalAlign:"super",fontSize:"0.6rem",fontWeight:"normal",marginLeft:n.spacing(.5),color:n.palette.error.main}},a("Beta"))),classes:{root:r.tabRoot}})))}},{key:"renderActionFlag",value:function(){var e=this.state,t=e.showActionFlag,a=e.actionMessage,n=e.actionType;return t?h.a.createElement(ve.a,{open:t,onClose:this.clearFlag,text:h.a.createElement("div",null,a),type:n}):null}},{key:"renderRightPanel",value:function(){var e=this.state,t=e.showRightPanel,a=e.activeTab,n=this.props,r=n.app,s=n.authActionGroup,l=n.activeSnap,i=s(["view-logs"],{app:r});return t&&i.isAuthorized?h.a.createElement(me.a,{objectType:"0"===a?"services":"functions",object:null,snapId:"0"===a?l._id:null,logAuth:"view-logs",commentAuth:"comment-function"}):null}},{key:"renderPlanConstraint",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.app,r=e.activeSnap;return-1===(0,e.authAction)("create-service",{app:n,activeSnap:r})?h.a.createElement("div",{className:a.block},h.a.createElement(T.a,{severity:"info",className:a.mb2},h.a.createElement(x.a,{defaults:t("The app plan has a limit of <bold>max %s no-code services per snapshot</bold> (total created by all team members). You have reached the max number of services for this snapshot and you can't create new services.").sprintf(n.planId.properties.serviceCountPerSnap),components:{bold:h.a.createElement("strong",null)}}))):null}},{key:"renderInfo",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.app,r=e.activeSnap;return 0===(0,e.authAction)("create-function",{app:n,activeSnap:r})?h.a.createElement("div",{className:a.block},h.a.createElement(T.a,{severity:"info",className:a.mb2},h.a.createElement(x.a,{defaults:t("You need to have at least the <bold>owner</bold> or <bold>admin</bold> privilages to create and manage full-code (serverless) functions.").sprintf(n.planId.properties.functionCountPerApp),components:{bold:h.a.createElement("strong",null)}}))):null}},{key:"renderFunctionPlanConstraint",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.app,r=e.activeSnap;return-1===(0,e.authAction)("create-function",{app:n,activeSnap:r})?h.a.createElement("div",{className:a.block},h.a.createElement(T.a,{severity:"info",className:a.mb2},h.a.createElement(x.a,{defaults:t("The app plan has a limit of <bold>max %s functions per snapshot</bold> (total created by all team members). You have reached the max number of functions for this snapshot and you can't create new functions.").sprintf(n.planId.properties.functionCountPerApp),components:{bold:h.a.createElement("strong",null)}}))):null}},{key:"renderToolBar",value:function(e){for(var t=this,a=this.state,n=a.selectedItems,r=a.multiProgress,s=a.searchStr,l=a.showGroups,i=a.view,o=a.showRightPanel,c=this.props,d=c.t,u=c.classes,p=c.app,m=c.authActionGroup,f=c.authAction,v=c.activeSnap,b=c.width,E=m(["create-service","update-snapshot","create-queue","create-task"],{app:p,activeSnap:v}),y=m(["view-logs"],{app:p,activeSnap:v}),k=0,S=0,x=0,w=0;w<n.length;w++){var C=n[w];"entry"===C._type?(1===f("update-service",{app:p,activeSnap:v,service:C})&&k++,1===f("delete-service",{app:p,activeSnap:v,service:C})&&S++):x++}return h.a.createElement(J.d,{margin:!0},h.a.createElement(R.a,{mdDown:!0},h.a.createElement(J.b,null," ",this.renderCount(e))),h.a.createElement(R.a,{lgUp:!0},h.a.createElement(J.b,null)),h.a.createElement(R.a,{xsDown:!0},h.a.createElement(J.e,{placeholder:d("Search..."),onChange:function(e){t.setState({searchStr:e.target.value}),Object(ke.m)("serviceListSearchStr",e.target.value)},width:160,value:s,clearSearch:function(){t.setState({searchStr:""}),Object(ke.m)("serviceListSearchStr","")}})),(k>0&&v.serviceGroups.length>0||S>0||l&&x>0)&&n.length>0&&h.a.createElement(J.a,{drop:!0,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,d("Selected")),"xs"!==b&&h.a.createElement("span",{className:Object(g.default)(u.badge,u.mlhalf)},n.length)),onClick:function(e){return t.setState({selectedMenuAnchorEl:e.currentTarget})},spinner:r}),h.a.createElement(J.a,{text:h.a.createElement("div",{className:u.flexCenter},h.a.createElement(z.a,{icon:l?V.H:V.rd,className:Object(g.default)(u.mrhalf,l?u.success:u.error)}),d("Groups"),"\xa0|\xa0",i.all&&h.a.createElement(z.a,{icon:V.I,className:Object(g.default)(u.mrhalf,u.success)}),i.endpoint&&h.a.createElement(z.a,{icon:V.sc,className:Object(g.default)(u.mrhalf,u.primaryMain)}),i.messaging&&h.a.createElement(z.a,{icon:V.hc,className:Object(g.default)(u.mrhalf,u.primaryMain)}),i.task&&h.a.createElement(z.a,{icon:V.a,className:Object(g.default)(u.mrhalf,u.primaryMain)}),i.all?d("All"):i.endpoint?d("Endpoint"):i.messaging?d("Messaging"):d("Task")),onClick:function(e){return t.setState({filterAnchorEl:e.currentTarget})},drop:!0}),(0!==E["create-service"]||0!==E["update-snapshot"])&&h.a.createElement(J.a,{action:!0,text:d("New"),icon:K.wb,onClick:function(e){return t.setState({addAnchorEl:e.currentTarget})},drop:!0}),y.isAuthorized&&("xs"===b||"sm"===b)&&h.a.createElement(J.c,{icon:V.Vb,onClick:function(){return t.setState({showRightPanel:!o})},tooltip:d("View activity history")}),this.renderFilterMenu(),this.renderAddMenu())}},{key:"renderFunctionToolBar",value:function(e){for(var t,a=this,n=this.state,r=n.selectedFunctionItems,s=n.multiProgress,l=n.searchFunctionStr,i=n.showFunctionGroups,o=n.showRightPanel,c=this.props,d=c.t,u=c.classes,p=c.app,m=c.authActionGroup,f=c.authAction,v=c.width,b=m(["view-logs"],{app:p}),E=0,y=0,k=0,S=0;S<r.length;S++){var x=r[S];"entry"===x._type?(1===f("update-function",{app:p,func:x})&&E++,1===f("delete-function",{app:p,func:x})&&y++):k++}return h.a.createElement(J.d,{margin:!0},h.a.createElement(R.a,{mdDown:!0},h.a.createElement(J.b,null," ",this.renderFunctionCount(e))),h.a.createElement(R.a,{lgUp:!0},h.a.createElement(J.b,null)),h.a.createElement(R.a,{xsDown:!0},h.a.createElement(J.e,{placeholder:d("Search..."),onChange:function(e){a.setState({searchFunctionStr:e.target.value}),Object(ke.m)("serviceListSearchFunctionStr",e.target.value)},width:160,value:l,clearSearch:function(){a.setState({searchFunctionStr:""}),Object(ke.m)("serviceListSearchFunctionStr","")}})),(E>0&&(null===(t=p.functionGroups)||void 0===t?void 0:t.length)>0||y>0||i&&k>0)&&r.length>0&&h.a.createElement(J.a,{drop:!0,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,d("Selected")),"xs"!==v&&h.a.createElement("span",{className:Object(g.default)(u.badge,u.mlhalf)},r.length)),onClick:function(e){return a.setState({selectedFunctionsMenuAnchorEl:e.currentTarget})},spinner:s}),b.isAuthorized&&("xs"===v||"sm"===v)&&h.a.createElement(J.c,{icon:V.Vb,onClick:function(){return a.setState({showRightPanel:!o})},tooltip:d("View activity history")}))}},{key:"renderCount",value:function(e){var t=this.props,a=t.t,n=t.services,r=null;return 0===n.length?r=a("No services"):n.length>0&&0===e.count?r=a("No matching services"):n.length===e.count?r=1===n.length?a("1 service"):e.count+" "+a("services"):1===e.count?r=a("1 service match of")+" "+n.length:e.count>1&&(r=e.count+" "+a("services match of")+" "+n.length),h.a.createElement(M.a,{variant:"h6"},r)}},{key:"renderFunctionCount",value:function(e){var t=this.props,a=t.t,n=t.codeFunctions,r=null;return 0===n.length?r=a("No functions"):n.length>0&&0===e.count?r=a("No matching functions"):n.length===e.count?r=1===n.length?a("1 function"):e.count+" "+a("functions"):1===e.count?r=a("1 function match of")+" "+n.length:e.count>1&&(r=e.count+" "+a("functions match of")+" "+n.length),h.a.createElement(M.a,{variant:"h6"},r)}},{key:"renderFilterMenu",value:function(){var e=this,t=this.state,a=t.filterAnchorEl,n=t.view,r=t.showGroups,s=t.sortKey,l=t.order,i=this.props,o=i.t,c=i.classes,d=i.width;return h.a.createElement(D.a,{anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({filterAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{icon:null},o("View")),h.a.createElement(ae.a,{onClick:this.showHideGroups,icon:V.Db,selected:r},o("Groups")),h.a.createElement(G.a,null),h.a.createElement(re.a,{icon:null},o("Filter")),h.a.createElement(ae.a,{onClick:function(){return e.toggleView("all")},icon:V.I,selected:n.all},o("All")),h.a.createElement(ae.a,{onClick:function(){return e.toggleView("endpoint")},icon:V.sc,selected:n.endpoint},o("Endpoint")),h.a.createElement(ae.a,{onClick:function(){return e.toggleView("messaging")},icon:V.hc,selected:n.messaging},o("Messaging")),h.a.createElement(ae.a,{onClick:function(){return e.toggleView("task")},icon:V.a,selected:n.task},o("Task")),("xs"===d||"sm"===d)&&h.a.createElement(G.a,null),("xs"===d||"sm"===d)&&h.a.createElement(re.a,{icon:null},o("Sort by")),("xs"===d||"sm"===d)&&h.a.createElement(ne.a,{icon:V.B,text:h.a.createElement(h.a.Fragment,null,o("Date created"),"createdAt"===s&&"asc"===l?h.a.createElement("span",{className:Object(g.default)(c.ml1,c.description)},"(asc)"):null,"createdAt"===s&&"desc"===l?h.a.createElement("span",{className:Object(g.default)(c.ml1,c.description)},"(desc)"):null),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.sort2("createdAt","asc")},icon:V.ad,selected:"createdAt"===s&&"asc"===l},o("Ascending")),h.a.createElement(ae.a,{onClick:function(){return e.sort2("createdAt","desc")},icon:V.Zc,selected:"createdAt"===s&&"desc"===l},o("Descending"))),("xs"===d||"sm"===d)&&h.a.createElement(ne.a,{icon:V.Yc,text:h.a.createElement(h.a.Fragment,null,o("Name"),"name"===s&&"asc"===l?h.a.createElement("span",{className:Object(g.default)(c.ml1,c.description)},"(asc)"):null,"name"===s&&"desc"===l?h.a.createElement("span",{className:Object(g.default)(c.ml1,c.description)},"(desc)"):null),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.sort2("name","asc")},icon:V.ad,selected:"name"===s&&"asc"===l},o("Ascending")),h.a.createElement(ae.a,{onClick:function(){return e.sort2("name","desc")},icon:V.Zc,selected:"name"===s&&"desc"===l},o("Descending"))))}},{key:"renderAddMenu",value:function(){var e=this,t=this.state.addAnchorEl,a=this.props,n=a.t,r=a.app,s=a.activeSnap,l=a.authAction,i=(0,a.authActionGroup)(["create-service","create-queue","create-task"],{app:r,activeSnap:s}),o=l("update-snapshot",{app:r,activeSnap:s});return h.a.createElement(h.a.Fragment,null,h.a.createElement(D.a,{anchorEl:t,open:Boolean(t),onClose:function(){return e.setState({addAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},0!==i["create-service"]&&h.a.createElement(ae.a,{onClick:function(t){return e.setState({openCreateDialog:!0,newServiceType:"endpoint",addAnchorEl:null})},icon:V.sc,disabled:1!==i["create-service"]},n("Endpoint service")),0!==i["create-queue"]&&h.a.createElement(ae.a,{onClick:function(t){return e.setState({openCreateDialog:!0,newServiceType:"messaging",addAnchorEl:null})},icon:V.hc,disabled:1!==i["create-service"]},n("Messaging service")),0!==i["create-task"]&&h.a.createElement(ae.a,{onClick:function(t){return e.setState({openCreateDialog:!0,newServiceType:"task",addAnchorEl:null})},icon:V.a,disabled:1!==i["create-service"]},n("Task service")),i.isAuthorized&&0!==o&&h.a.createElement(G.a,null),0!==o&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openCreateGroupDialog:!0,addAnchorEl:null})},icon:V.Db,disabled:1!==o},n("Service group"))))}},{key:"renderSelectedMenu",value:function(){for(var e=this,t=this.state,a=t.selectedMenuAnchorEl,n=t.selectedItems,r=this.props,s=r.t,l=r.classes,o=r.app,c=r.authAction,d=r.activeSnap,u=0,p=0,m=0,f=0;f<n.length;f++){var v=n[f];"entry"===v._type?(1===c("update-service",{app:o,activeSnap:d,service:v})&&u++,1===c("delete-service",{app:o,activeSnap:d,service:v})&&p++):1===c("update-snapshot",{app:o,activeSnap:d})&&m++}var b=Object(i.a)(d.serviceGroups);return h.a.createElement(D.a,{anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({selectedMenuAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},u>0&&d.serviceGroups.length>0&&h.a.createElement(ne.a,{key:2,icon:V.ob,text:u>1?h.a.createElement("span",null,s("Move services to group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)):h.a.createElement("span",null,s("Move service to group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{key:-1,onClick:function(){return e.moveMultiToGroup({_id:-1})}},s("No group")),d.serviceGroups.length>0&&h.a.createElement(G.a,null),b.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})).map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.moveMultiToGroup(t)}},t.name)}))),u>0&&d.serviceGroups.length>0&&h.a.createElement(G.a,null),p>0&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openConfirmDialogMulti:!0,selectedMenuAnchorEl:null})},icon:V.wd},p>1?h.a.createElement("span",null,s("Delete services"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},p)):h.a.createElement("span",null,s("Delete service"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},p))),p>0&&m>0&&h.a.createElement(G.a,null),m>0&&h.a.createElement(ae.a,{onClick:this.deleteServiceGroups,icon:V.Fb},m>1?h.a.createElement("span",null,s("Delete groups"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},m)):h.a.createElement("span",null,s("Delete group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},m))))}},{key:"renderFunctionSelectedMenu",value:function(){for(var e=this,t=this.state,a=t.selectedFunctionsMenuAnchorEl,n=t.selectedFunctionItems,r=this.props,s=r.t,l=r.classes,i=r.app,o=r.authAction,c=0,d=0;d<n.length;d++){var u=n[d];"entry"===u._type&&1===o("delete-function",{app:i,func:u})&&c++}return c?h.a.createElement(D.a,{anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({selectedFunctionsMenuAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c>0&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openConfirmFunctionDialogMulti:!0,selectedFunctionsMenuAnchorEl:null})},icon:V.wd},c>1?h.a.createElement("span",null,s("Delete functions"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},c)):h.a.createElement("span",null,s("Delete function"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},c)))):null}},{key:"renderNoData",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.app,r=e.activeSnap,s=(0,e.authActionGroup)(["create-service"],{app:n,activeSnap:r});return h.a.createElement("div",{className:t.noDataPlaceholder},h.a.createElement(ye.a,{icon:V.Fc,mainMessage:1===s["create-service"]?h.a.createElement(x.a,{defaults:a("You don't have any no-code services in snapshot <bold>'%s'</bold> to work on. Click <bold>New service</bold> to create one.").sprintf(r.name),components:{bold:h.a.createElement("strong",null)}}):h.a.createElement(x.a,{defaults:a("There aren't any no-code services in snapshot <bold>'%s'</bold> that are visible to you.<break/>Most probably no-code services created by your team members are created in <bold>private snapshots</bold> that are not visible to others or<break/>your authorization rights permit only view of services that are created by yourself only.").sprintf(r.name),components:{bold:h.a.createElement("strong",null),break:h.a.createElement("br",null)}}),message:h.a.createElement("span",{className:t.caption},h.a.createElement(x.a,{defaults:a("Learn <link1>Service Basics</link1> or explore <link2>Building Services</link2> guide"),components:{link1:h.a.createElement(A.a,{href:"https://altogic.com/docs/platform-concepts/services",target:"_blank"}),link2:h.a.createElement(A.a,{href:"https://altogic.com/docs/category/building-no-code-services",target:"_blank"})}})),smallIcon:!1,action:null}))}},{key:"renderNoFunctionData",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.app,r=(0,e.authActionGroup)(["create-function"],{app:n});return h.a.createElement("div",{className:t.noDataPlaceholder},h.a.createElement(ye.a,{icon:V.V,mainMessage:1===r["create-function"]?h.a.createElement(x.a,{defaults:a("You don't have any functions in app <bold>'%s'</bold> to work on. Use Altogic CLI to create a new function.").sprintf(n.name),components:{bold:h.a.createElement("strong",null)}}):h.a.createElement(x.a,{defaults:a("There aren't any functions in app <bold>'%s'</bold> that are visible to you.").sprintf(n.name),components:{bold:h.a.createElement("strong",null),break:h.a.createElement("br",null)}}),message:h.a.createElement("span",{className:t.caption},h.a.createElement(x.a,{defaults:a("Learn <link1>Function Basics</link1> or explore <link2>Building Functions</link2> guide"),components:{link1:h.a.createElement(A.a,{href:"https://altogic.com/docs/platform-concepts/functions",target:"_blank"}),link2:h.a.createElement(A.a,{href:"https://www.altogic.com/docs/full-code-functions",target:"_blank"})}})),smallIcon:!1,action:null}))}},{key:"renderTable",value:function(e){for(var t=this,a=this.props,r=a.t,s=a.classes,l=a.app,i=a.activeSnap,o=a.authAction,c=a.team,d=a.services,u=0,p=0,m=0;m<d.length;m++){var g=d[m];1===o("update-service",{app:l,activeSnap:i,service:g})&&u++,1===o("delete-service",{app:l,activeSnap:i,service:g})&&p++}var f=!1;(u>0&&i.serviceGroups.length>0||p>0||1===o("update-snapshot",{app:l,activeSnap:i}))&&(f=!0);var v=[];return v.push({width:42,type:"menu",dataKey:"menu"}),f&&v.push({width:42,type:"check",dataKey:"check"}),v.push({width:400,type:"data",dataKey:"name",label:r("Name"),sortKey:"name",icon:V.ld}),v.push({width:180,type:"data",dataKey:"contents",label:r("Contents"),icon:V.Fc}),v.push({width:180,type:"data",dataKey:"type",label:r("Service type"),sortKey:"type"}),v.push({width:250,type:"data",dataKey:"route",label:r("Routed from"),icon:V.Mc}),v.push({width:200,type:"data",dataKey:"createdAt",label:r("Created at"),sortKey:"createdAt",flexGrow:1===c.length,icon:V.B}),c.length>1&&v.push({width:200,type:"data",dataKey:"updatedAt",label:r("Updated at"),sortKey:"updatedAt",flexGrow:!0,icon:V.B}),h.a.createElement("div",{style:{flexGrow:1}},h.a.createElement(H.a,null,(function(a){var r=a.height,l=a.width;return h.a.createElement(H.c,{height:r,width:l,headerHeight:Se.a.tableHeaderHeight,rowHeight:80,rowCount:e.normalizedList.length,rowGetter:function(t){var a=t.index;return e.normalizedList[a]},className:s.table,noRowsRenderer:function(){return t.noRowsRenderer(e)},rowRenderer:t.rowRenderer,overscanRowCount:5},v.map((function(a){var r=a.dataKey,s=(a.flexGrow,Object(n.a)(a,xe));return h.a.createElement(H.b,Object.assign({key:r,dataKey:r,headerRenderer:function(){return t.headerRenderer(a,e)},cellRenderer:t.cellRenderer,disableSort:!0},s,{style:{overflow:"menu"===r||"check"===r?"visible":"hidden"}}))})))})))}},{key:"renderFunctionTable",value:function(e){for(var t=this,a=this.props,r=a.t,s=a.classes,l=a.app,i=a.activeSnap,o=a.authAction,c=a.team,d=a.codeFunctions,u=0,p=0,m=0;m<d.length;m++){var g=d[m];1===o("update-function",{app:l,func:g})&&u++,1===o("delete-function",{app:l,activeSnap:i,func:g})&&p++}var f=!1;(u>0&&i.serviceGroups.length>0||p>0||1===o("update-app",{app:l,activeSnap:i}))&&(f=!0);var v=[];return v.push({width:42,type:"menu",dataKey:"menu"}),f&&v.push({width:42,type:"check",dataKey:"check"}),v.push({width:400,type:"data",dataKey:"name",label:r("Name"),sortKey:"name",icon:V.ld}),v.push({width:180,type:"data",dataKey:"builds",label:r("Builds"),sortKey:"builds",icon:V.v}),v.push({width:180,type:"data",dataKey:"deployments",label:r("Deployments"),sortKey:"deployments",icon:V.yd}),v.push({width:250,type:"data",dataKey:"route",label:r("Routed from"),icon:V.Mc}),v.push({width:200,type:"data",dataKey:"createdAt",label:r("Created at"),sortKey:"createdAt",flexGrow:1===c.length,icon:V.B}),c.length>1&&v.push({width:200,type:"data",dataKey:"updatedAt",label:r("Updated at"),sortKey:"updatedAt",flexGrow:!0,icon:V.B}),h.a.createElement("div",{style:{flexGrow:1}},h.a.createElement(H.a,null,(function(a){var r=a.height,l=a.width;return h.a.createElement(H.c,{height:r,width:l,headerHeight:Se.a.tableHeaderHeight,rowHeight:80,rowCount:e.normalizedList.length,rowGetter:function(t){var a=t.index;return e.normalizedList[a]},className:s.table,noRowsRenderer:function(){return t.noFunctionRowsRenderer(e)},rowRenderer:t.functionRowRenderer,overscanRowCount:5},v.map((function(a){var r=a.dataKey,s=(a.flexGrow,Object(n.a)(a,we));return h.a.createElement(H.b,Object.assign({key:r,dataKey:r,headerRenderer:function(){return t.functionHeaderRenderer(a,e)},cellRenderer:t.cellRenderer,disableSort:!0},s,{style:{overflow:"menu"===r||"check"===r?"visible":"hidden"}}))})))})))}},{key:"renderGroup",value:function(e,t,a){var n=this,r=this.props,s=r.classes,l=r.app,i=r.activeSnap,o=r.authAction,c=this.state,d=c.progress,u=c.selectedObj,p=c.activeTab,m=t.items.length,f=o("0"===p?"update-snapshot":"update-app",{app:l,activeSnap:i}),v=this.isExpanded(t._id);switch(e){case"menu":return h.a.createElement(j.a,{component:"div",align:"center",className:Object(g.default)(s.contextMenuCell,s.noBorder)},d&&u._id===t._id?h.a.createElement(I.a,{size:20}):h.a.createElement(F.a,{className:s.contextMenuButton,onClick:function(e){return n.showContextMenu(e,t)},disabled:d||1!==f},h.a.createElement(z.a,{icon:Y.k,className:s.contextMenuIcon})));case"check":return h.a.createElement(j.a,{component:"div",align:"center",className:Object(g.default)(s.contextMenuCell,s.noBorder)},h.a.createElement(B.a,{checked:this.isChecked(t),onChange:function(){return n.manageGroupSelection(t)},color:"primary"}));case"name":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(s.dataCell,s.noBorder)},h.a.createElement("div",{className:Object(g.default)(s.body1,s.bold,s.flexCenter,s.flexGrow)},h.a.createElement("span",{className:s.pointer,onClick:function(){v?n.collapseGroup(t._id):n.expandGroup(t._id)}},h.a.createElement(z.a,{icon:v?K.d:K.e,className:Object(g.default)(s.mr1),fixedWidth:!0}),h.a.createElement(z.a,{icon:U.f,className:Object(g.default)(s.mr1,s.folderColor)}),h.a.createElement("span",null,t.name),h.a.createElement("span",{className:Object(g.default)(s.ml1,s.secondary,s.italic)},"(",m,")"))));default:return null}}},{key:"renderEntry",value:function(e,t,a){var n=this,r=this.props,s=r.t,l=r.classes,i=r.app,o=r.user,c=r.activeSnap,d=r.authActionGroup,u=this.state,p=u.searchStr,m=u.searchFunctionStr,f=u.progress,b=u.selectedObj,y=u.showGroups,k=u.showFunctionGroups,S=u.activeTab,x="0"===S?p:m,w=d("0"===S?["update-service","delete-service","view-service"]:["update-function","delete-function","view-function"],{app:i,activeSnap:c,service:t}),C="0"===S?w["view-service"]:w["view-function"],_="0"===S?w["update-service"]:w["update-function"],N="0"===S?w["delete-service"]:w["delete-function"],M="0"===S?!(!t.groupId||!y):!(!t.groupId||!k);switch(e){case"menu":return h.a.createElement(j.a,{component:"div",align:"center",className:Object(g.default)(l.contextMenuCell,l.noBorder)},f&&b._id===t._id?h.a.createElement(I.a,{size:20}):h.a.createElement(F.a,{className:l.contextMenuButton,onClick:function(e){return n.showContextMenu(e,t)},disabled:f||1!==_&&1!==N},h.a.createElement(z.a,{icon:Y.k,className:l.contextMenuIcon})));case"check":return h.a.createElement(j.a,{component:"div",align:"center",className:Object(g.default)(l.contextMenuCell,l.noBorder)},h.a.createElement(B.a,{checked:this.isChecked(t),onChange:function(){return n.manageSelection(t)},color:"primary"}));case"name":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.noBorder,l.dataCell)},1===C&&h.a.createElement("div",{className:Object(g.default)(M?l.pl5:null,l.flexGrow,l.ellipsis,l.bold)},"0"===S&&h.a.createElement(h.a.Fragment,null,h.a.createElement(A.a,{href:"#",component:O.a,to:"/users/".concat(o._id,"/apps/").concat(i._id,"/snaps/").concat(c._id,"/services/").concat(t._id)},h.a.createElement(z.a,{icon:V.vc,className:l.mr1}),this.hasValidationErrors(t._id)>0&&h.a.createElement(z.a,{icon:K.O,className:Object(g.default)(l.error,l.mr1),fixedWidth:!0}),h.a.createElement(E.a,{highlightClassName:l.highlight,searchWords:[x],autoEscape:!0,textToHighlight:t.name})),h.a.createElement(ge.a,{text:t.description,type:"service"})),"1"===S&&h.a.createElement("span",{onClick:function(){return n.setState({openManageCFDialog:!0,selectedObj:t})},className:Object(g.default)(l.anchor,l.bold)},h.a.createElement(z.a,{icon:V.vc,className:l.mr1}),h.a.createElement(E.a,{highlightClassName:l.highlight,searchWords:[x],autoEscape:!0,textToHighlight:t.name}))),1!==C&&h.a.createElement("div",{className:Object(g.default)(M?l.pl5:null,l.bold)},h.a.createElement(z.a,{icon:V.vc,className:l.mr1}),h.a.createElement(E.a,{highlightClassName:l.highlight,searchWords:[x],autoEscape:!0,textToHighlight:t.name})));case"contents":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder)},t.flow&&t.flow.nodes&&h.a.createElement("div",null,h.a.createElement(z.a,{icon:V.Id,className:l.mrhalf,fixedWidth:!0}),0===t.flow.nodes.length?h.a.createElement("span",null,h.a.createElement("strong",null,s("No")),"\xa0",s("nodes")):1===t.flow.nodes.length?h.a.createElement("span",null,h.a.createElement("strong",null,"1"),"\xa0",s("node")):h.a.createElement("span",null,h.a.createElement("strong",null,t.flow.nodes.length),"\xa0",s("nodes"))),t.flow&&t.flow.relations&&h.a.createElement("div",null,h.a.createElement(z.a,{icon:V.f,className:l.mrhalf,fixedWidth:!0}),0===t.flow.relations.length?h.a.createElement("span",null,h.a.createElement("strong",null,s("No")),"\xa0",s("connectors")):1===t.flow.relations.length?h.a.createElement("span",null,h.a.createElement("strong",null,"1"),"\xa0",s("connector")):h.a.createElement("span",null,h.a.createElement("strong",null,t.flow.relations.length),"\xa0",s("connectors"))));case"type":return h.a.createElement(j.a,{component:"div",align:"center",className:Object(g.default)(l.pr2,l.noBorder)},h.a.createElement(L.a,{label:h.a.createElement("span",null,h.a.createElement(z.a,{icon:"endpoint"===t.type?V.sc:"messaging"===t.type?V.hc:V.a,className:Object(g.default)(l.mrhalf,l.primaryMain),fixedWidth:!0}),"endpoint"===t.type?s("Endpoint"):"messaging"===t.type?s("Messaging"):s("Task")),className:Object(g.default)(l.body2,l.bgcolor)}));case"builds":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder)},0===t.builds.length?s("No builds"):1===t.builds.length?s("1 build"):s("%s builds").sprintf(t.builds.length));case"deployments":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder)},0===t.deployments.length?s("No deployments"):1===t.deployments.length?s("1 deployment"):s("%s deployments").sprintf(t.deployments.length));case"route":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder),width:"350px"},this.renderRoutedFrom(t));case"createdAt":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder)},h.a.createElement("div",{className:l.flexCenter},h.a.createElement(he.a,{user:this.getMember(t.createdBy),size:"small"}),h.a.createElement("div",{className:l.ml1},h.a.createElement("div",null,v()(t.createdAt).format("MMM Do, YYYY")),h.a.createElement("div",{className:Object(g.default)(l.italic,l.disabled,l.caption)},v()(t.createdAt).format("hh:mm a")))));case"updatedAt":return h.a.createElement(j.a,{component:"div",className:Object(g.default)(l.breakWord,l.noBorder)},t.updatedAt&&t.updatedBy?h.a.createElement("div",{className:l.flexCenter},h.a.createElement(he.a,{user:this.getMember(t.updatedBy),size:"small"}),h.a.createElement("div",{className:l.ml1},h.a.createElement("div",null,v()(t.updatedAt).format("MMM Do, YYYY")),h.a.createElement("div",{className:Object(g.default)(l.italic,l.disabled,l.caption)},v()(t.updatedAt).format("hh:mm a")))):null);default:return null}}},{key:"renderRoutedFrom",value:function(e){var t=this,a=this.props,n=a.t,r=a.classes,s=a.app,l=a.activeSnap,i=a.authAction,o=[];return"endpoint"!==e.type&&e.type||(1===e._endpoints.length&&"endpoint"===e.type?e._endpoints.map((function(a,n){var r=i("update-endpoint",{app:s,activeSnap:l,endpoint:a}),c=t.renderRoutedFromEntry("endpoint",e,a,n,r);return o.push(c),c})):e._endpoints.length>=1&&o.push(h.a.createElement("div",{key:"endpoint"},e._endpoints.length,"\xa0",1===e._endpoints.length?n("endpoint"):n("endpoints"),h.a.createElement(fe.a,null,h.a.createElement("div",{className:Object(g.default)(r.bold,r.mb2)},n("Endpoints")),e._endpoints.map((function(a,n){var r=i("update-endpoint",{app:s,activeSnap:l,endpoint:a});return t.renderRoutedFromEntry("endpoint",e,a,n,r)})))))),"messaging"!==e.type&&e.type||e._queues.length>0&&o.push(h.a.createElement("div",{key:"messaging"},e._queues.length,"\xa0",1===e._queues.length?n("queue"):n("queues"),h.a.createElement(fe.a,null,h.a.createElement("div",{className:Object(g.default)(r.bold,r.mb2)},n("Message queues")),e._queues.map((function(a,n){var r=i("update-queue",{app:s,activeSnap:l,queue:a});return t.renderRoutedFromEntry("queue",e,a,n,r)}))))),"task"!==e.type&&e.type||e._tasks.length>0&&o.push(h.a.createElement("div",{key:"task"},e._tasks.length,"\xa0",1===e._tasks.length?n("task"):n("tasks"),h.a.createElement(fe.a,null,h.a.createElement("div",{className:Object(g.default)(r.bold,r.mb2)},n("Tasks")),e._tasks.map((function(a,n){var r=i("update-task",{app:s,activeSnap:l,task:a});return t.renderRoutedFromEntry("task",e,a,n,r)}))))),o}},{key:"renderRoutedFromEntry",value:function(e,t,a,n,r){var s=this,l=this.props.classes;if("endpoint"===e){var i=a;return h.a.createElement("div",{key:i._id,className:Object(g.default)(l.overflowHidden,n>0?l.mt2:null)},h.a.createElement("div",{className:Object(g.default)(1===r?l.anchor:l.disabled,l.ellipsis),onClick:function(){return 1===r?s.setState({openManageEndpointDialog:!0,selectedObj:i}):null}},i.name),h.a.createElement("div",{className:Object(g.default)(l.breakWord,l.disabled,l.flexCenter,l.mthalf)},h.a.createElement("span",{className:Object(g.default)(this.getMethodClass(l,i),l.mr1)},i.method),h.a.createElement("span",{className:Object(g.default)(l.italic)},i.path)))}if("queue"===e){var o=a;return h.a.createElement("div",{key:o._id,className:Object(g.default)(l.overflowHidden,n>0?l.mt1:null)},h.a.createElement("div",{className:Object(g.default)(1===r?l.anchor:l.disabled,l.ellipsis,l.mb1),onClick:function(){return 1===r?s.setState({openManageQueueDialog:!0,selectedObj:o}):null}},h.a.createElement(z.a,{icon:V.hc,className:l.mr1}),o.name),t.msgFormat.length>0?t.msgFormat.map((function(e,t){return h.a.createElement("div",{key:t,className:Object(g.default)(l.mb1)},s.renderMessageInput(e,t))})):null)}if("task"===e){var c=a;return h.a.createElement("div",{key:c._id,className:Object(g.default)(l.overflowHidden,n>0?l.mt2:null),style:{maxWidth:300}},h.a.createElement("div",{className:Object(g.default)(1===r?l.anchor:l.disabled,l.ellipsis,l.mb1),onClick:function(){return 1===r?s.setState({openManageTaskDialog:!0,selectedObj:c}):null}},h.a.createElement(z.a,{icon:V.a,className:l.mr1}),c.name),h.a.createElement("div",null,h.a.createElement(x.a,{defaults:c.schedule.humanReadable,components:{metric:h.a.createElement("strong",null),num:h.a.createElement("strong",null),weekday:h.a.createElement("span",{className:Object(g.default)(l.chip)}),zone:h.a.createElement("span",{className:Object(g.default)(l.secondary,l.caption)}),format:h.a.createElement("span",{className:Object(g.default)(l.disabled,l.italic,l.caption)})}})))}}},{key:"renderMessageInput",value:function(e,t){var a=this.props,n=a.t,r=a.classes;return h.a.createElement(L.a,{label:h.a.createElement("span",null,h.a.createElement("span",{className:Object(g.default)(r.italic,r.disabled)},e.name),"\xa0|\xa0",h.a.createElement("span",null,h.a.createElement(z.a,{icon:V.jd,className:Object(g.default)(r.mrhalf,r.primaryMain)}),e.model?e.model.name:h.a.createElement("span",{className:r.error},n("Undefined"))),"\xa0|\xa0",h.a.createElement("span",null,h.a.createElement("strong",null,"single"===e.count?"{":"["),h.a.createElement("span",{className:Object(g.default)(r.mlhalf,r.mrhalf)},h.a.createElement(z.a,{icon:"single"===e.count?V.b:V.c,className:Object(g.default)(r.mrhalf,r.primaryMain)}),"single"===e.count?n("Object"):n("List"))),h.a.createElement("strong",null,"single"===e.count?"}":"]")),className:Object(g.default)(r.caption,r.bgcolor)})}},{key:"renderContextMenu",value:function(){var e=this,t=this.state,a=t.contextAnchorEl,n=t.selectedObj,r=this.props,s=r.t,l=r.classes,o=r.authActionGroup,c=r.authAction,d=r.app,u=r.activeSnap;if(!n)return null;if("entry"===n._type){var p=this.getGroup(n),m=o(["create-service","update-service","delete-service"],{app:d,activeSnap:u,service:n}),f=Object(i.a)(u.serviceGroups);return h.a.createElement(D.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:this.closeContextMenu,elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{icon:V.vc,color:!0},n.name),0!==m["update-service"]&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openCreateDialog:!0,newServiceType:n.type,contextAnchorEl:null})},icon:V.kb,disabled:1!==m["update-service"]},s("Edit properties")),0!==m["create-service"]&&h.a.createElement(ae.a,{onClick:this.createServiceCopy,icon:V.cb,disabled:1!==m["create-service"],helperTip:1!==m["create-service"]?h.a.createElement(x.a,{defaults:s("The app plan has a limit of <bold>max %s services per snapshot</bold>. You have reached the max number of services and you can't create new services.").sprintf(d.planId.properties.serviceCountPerSnap),components:{bold:h.a.createElement("strong",null)}}):null},s("Create copy")),1===m["update-service"]&&u.serviceGroups.length>0&&h.a.createElement(G.a,null),1===m["update-service"]&&[u.serviceGroups.length>0&&h.a.createElement(ne.a,{key:2,icon:V.ob,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},h.a.createElement("span",null,s("Move to group")),p?h.a.createElement("span",{className:Object(g.default)(l.caption,l.italic,l.disabled)},p.name):null)),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.moveToGroup({_id:-1})},selected:!p},s("No group")),u.serviceGroups.length>0&&h.a.createElement(G.a,null),f.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})).map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.moveToGroup(t)},selected:!(!p||p._id!==t._id)},t.name)})))],(1===m["update-service"]||0!==m["create-service"])&&1===m["delete-service"]&&h.a.createElement(G.a,null),1===m["delete-service"]&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openConfirmDialog:!0,contextAnchorEl:null})},icon:V.wd},s("Delete service")))}if("group"===n._type){for(var v=c("update-snapshot",{app:d,activeSnap:u}),b=!1,E=0;E<n.items.length;E++){if(1===c("delete-service",{app:d,activeSnap:u,service:n.items[E]})){b=!0;break}}return h.a.createElement(D.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:this.closeContextMenu,elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{key:0,icon:V.Db,color:!0},n.name),1===v&&h.a.createElement(ae.a,{onClick:function(){return e.setState({contextAnchorEl:null,openRenameDialog:!0})},icon:V.kb},s("Rename group")),1===v&&h.a.createElement(G.a,null),1===v&&h.a.createElement(ae.a,{onClick:this.deleteServiceGroup,icon:V.Fb},s("Delete group")),1===v&&b&&h.a.createElement(ae.a,{onClick:this.deleteGroupAndServices,icon:V.wd},s("Delete group & services")))}}},{key:"renderFunctionContextMenu",value:function(){var e=this,t=this.state,a=t.contextAnchorEl,n=t.selectedObj,r=this.props,s=r.t,l=r.authActionGroup,i=r.app;if(!n)return null;if("entry"===n._type){var o=l(["delete-function"],{app:i,func:n});return 1!==o["delete-function"]?null:h.a.createElement(D.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:this.closeContextMenu,elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{icon:V.vc,color:!0},n.name),1===o["delete-function"]&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openConfirmFunctionDialog:!0,contextAnchorEl:null})},icon:V.wd},s("Delete function")))}}},{key:"renderGrid",value:function(e){var t=this,a=this.state.showGroups,n=this.props,r=n.t,s=n.classes,l=n.activeSnap,i=n.services;return h.a.createElement(h.a.Fragment,null,0===i.length&&(0===l.serviceGroups.length||!1===a)&&this.renderNoData(),0===e.count&&this.hasFilters()&&h.a.createElement("div",{className:s.noDataPlaceholder},h.a.createElement(ye.a,{icon:V.vc,mainMessage:r("No services matching filter criteria"),message:r("Didn't find what you're looking for? Some services may be hidden because of the filters you've selected."),smallIcon:!0,action:r("Reset filters"),actionIcon:V.xd,callBack:this.resetFilters,searchResult:!0})),h.a.createElement(_.a,{className:s.gridArea,style:{justifyContent:"center"}},e.hierarchy.map((function(e){return"group"===e._type?t.renderGridGroup(e):t.renderGridItem(e)}))))}},{key:"renderFunctionGrid",value:function(e){var t,a=this,n=this.state.showFunctionGroups,r=this.props,s=r.t,l=r.classes,i=r.app,o=r.codeFunctions;return h.a.createElement(h.a.Fragment,null,0===o.length&&(0===(null===(t=i.functionGroups)||void 0===t?void 0:t.length)||!1===n)&&this.renderNoFunctionData(),0===e.count&&this.hasFilters()&&h.a.createElement("div",{className:l.noDataPlaceholder},h.a.createElement(ye.a,{icon:V.vc,mainMessage:s("No functions matching filter criteria"),message:s("Didn't find what you're looking for? Some functions may be hidden because of the filters you've selected."),smallIcon:!0,action:s("Reset filters"),actionIcon:V.xd,callBack:this.resetFilters,searchResult:!0})),h.a.createElement(_.a,{className:l.gridArea,style:{justifyContent:"center"}},e.hierarchy.map((function(e){return"group"===e._type?a.renderGridGroup(e):a.renderGridFunctionItem(e)}))))}},{key:"renderGridGroup",value:function(e){var t=this,a=this.state,n=a.progress,r=a.selectedObj,s=a.activeTab,l=this.props,i=l.t,o=l.classes,c=l.theme,d=l.app,u=l.activeSnap,p=l.authAction,m="0"===s?p("update-snapshot",{app:d,activeSnap:u}):p("update-app",{app:d}),f=this.isExpanded(e._id);return h.a.createElement(W.a,{key:e._id,className:Object(g.default)(o.gridGroup),variant:"outlined"},h.a.createElement("div",{className:Object(g.default)(o.padding2,o.body1,o.flexCenter)},h.a.createElement("div",{className:Object(g.default)(o.flexCenter,o.flexGrow,o.pointer),onClick:function(){f?t.collapseGroup(e._id):t.expandGroup(e._id)}},h.a.createElement(z.a,{icon:f?K.d:K.e,className:Object(g.default)(o.mr1),fixedWidth:!0}),h.a.createElement(z.a,{icon:U.f,className:Object(g.default)(o.mr1,o.folderColor)}),h.a.createElement("span",null,e.name),e.items.length>0&&h.a.createElement("span",{className:Object(g.default)(o.ml1,o.secondary,o.italic)},"(",e.items.length,")"),0===e.items.length&&h.a.createElement("span",{className:Object(g.default)(o.ml1,o.secondary,o.italic)},"(",i("0"===s?"No services":"No functions"),")")),h.a.createElement("div",{className:o.flexCenter},n&&r._id===e._id?h.a.createElement(I.a,{size:20}):h.a.createElement(F.a,{className:o.contextMenuButton,onClick:function(a){return t.showContextMenu(a,e)},disabled:n||1!==m},h.a.createElement(z.a,{icon:Y.k,className:o.contextMenuIcon})))),e.items.length>0&&f&&h.a.createElement("div",{style:{padding:c.spacing(0,1,1,1)}},e.items.map((function(e){return h.a.createElement("div",{key:e._id,style:{padding:c.spacing(0,1,0,1)}},"0"===s?t.renderGridItem(e):t.renderGridFunctionItem(e))}))))}},{key:"renderGridItem",value:function(e){var t=this,a=this.state,n=a.searchStr,r=a.progress,s=a.selectedObj,l=a.showGroups,i=this.props,o=i.t,c=i.classes,d=i.theme,u=i.user,p=i.app,m=i.activeSnap,f=i.history,v=i.authActionGroup,b=v(["view-service","update-service","delete-service"],{app:p,activeSnap:m,service:e}),k=e.createdBy,S=e.createdAt;e.updatedAt&&e.updatedBy&&(k=e.updatedBy,S=e.updatedAt);var x=this.getGroup(e);return h.a.createElement(W.a,{key:e.groupId?e.groupId+"."+e._id:e._id,className:Object(g.default)(c.gridItem,e.groupId&&!1!==l?null:c.fullWidth),variant:"outlined"},h.a.createElement("div",{className:c.gridItemLogo},h.a.createElement(z.a,{icon:"endpoint"===e.type?V.sc:"messaging"===e.type?V.hc:V.a})),h.a.createElement("div",{className:Object(g.default)(c.gridItemHeader,1===b["view-service"]?c.gridItemHeaderLink:null),onClick:function(){return 1===b["view-service"]?f.push("/users/".concat(u._id,"/apps/").concat(p._id,"/snaps/").concat(m._id,"/services/").concat(e._id)):null}},h.a.createElement("div",null,h.a.createElement(z.a,{icon:V.vc,className:c.mrhalf})),h.a.createElement("div",{className:c.ellipsis},h.a.createElement(E.a,{highlightClassName:c.highlight,searchWords:[n],autoEscape:!0,textToHighlight:e.name}))),h.a.createElement("div",{className:c.gridItemContent},!1===l&&h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(z.a,{icon:U.f,className:Object(g.default)(c.mrhalf,c.folderColor),fixedWidth:!0}),x?x.name:o("No group")),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(z.a,{icon:"endpoint"===e.type?V.sc:"messaging"===e.type?V.hc:V.a,fixedWidth:!0,className:Object(g.default)(c.mrhalf,c.primaryMain)}),"endpoint"===e.type?o("Endpoint service"):"messaging"===e.type?o("Messaging service"):o("Task service")),e._queues.map((function(e){var a=v(["update-queue"],{app:p,activeSnap:m,queue:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-queue"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-queue"]?t.setState({openManageQueueDialog:!0,selectedObj:e}):null}},h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0}),e.name)})),e._tasks.map((function(e){var a=v(["update-task"],{app:p,activeSnap:m,task:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-task"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-task"]?t.setState({openManageTaskDialog:!0,selectedObj:e}):null}},h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0}),e.name)})),e._endpoints.map((function(e){var a=v(["update-endpoint"],{app:p,activeSnap:m,endpoint:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-endpoint"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-endpoint"]?t.setState({openManageEndpointDialog:!0,selectedObj:e}):null},style:{display:"flex"}},h.a.createElement("div",null,h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0})),h.a.createElement("div",{className:c.overflowHidden},h.a.createElement("div",{className:c.ellipsis},e.name),h.a.createElement("div",{className:Object(g.default)(c.breakWord,c.disabled,c.flexCenter,c.mthalf)},h.a.createElement("span",{className:Object(g.default)(t.getMethodClass(c,e),c.mrhalf)},e.method),h.a.createElement("span",{className:c.path},e.path))))}))),h.a.createElement("div",{className:c.gridItemFooter},h.a.createElement("div",{className:c.flexGrow},S&&k?h.a.createElement("div",{className:c.flexCenter},h.a.createElement(he.a,{user:this.getMember(k),size:"small"}),h.a.createElement("div",{className:c.ml1},h.a.createElement("div",{className:Object(g.default)(c.disabled,c.caption)},Object(y.a)(S)))):null),h.a.createElement("div",{className:c.flexCenter},r&&s._id===e._id?h.a.createElement("div",{style:{padding:d.spacing(0,.5)}},h.a.createElement(I.a,{size:24})):h.a.createElement(F.a,{className:c.contextMenuButton,onClick:function(a){return t.showContextMenu(a,e)},disabled:r||1!==b["update-service"]&&1!==b["delete-service"]},h.a.createElement(z.a,{icon:Y.k,className:c.contextMenuIcon})))))}},{key:"renderGridFunctionItem",value:function(e){var t=this,a=this.state,n=a.searchFunctionStr,r=a.progress,s=a.selectedObj,l=a.showFunctionGroups,i=this.props,o=i.t,c=i.classes,d=i.theme,u=i.app,p=i.activeSnap,m=i.authActionGroup,f=m(["view-function","update-function","delete-function"],{app:u,func:e}),v=e.createdBy,b=e.createdAt;e.updatedAt&&e.updatedBy&&(v=e.updatedBy,b=e.updatedAt);var k=this.getGroup(e);return h.a.createElement(W.a,{key:e.groupId?e.groupId+"."+e._id:e._id,className:Object(g.default)(c.gridItem,e.groupId&&!1!==l?null:c.fullWidth),variant:"outlined"},h.a.createElement("div",{className:c.gridItemLogo},h.a.createElement(z.a,{icon:V.V})),h.a.createElement("div",{className:Object(g.default)(c.gridItemHeader,1===f["view-function"]?c.gridItemHeaderLink:null),onClick:function(){return 1===f["view-function"]?t.setState({openManageCFDialog:!0,selectedObj:e}):null}},h.a.createElement("div",null,h.a.createElement(z.a,{icon:V.vc,className:c.mrhalf})),h.a.createElement("div",{className:c.ellipsis},h.a.createElement(E.a,{highlightClassName:c.highlight,searchWords:[n],autoEscape:!0,textToHighlight:e.name}))),h.a.createElement("div",{className:c.gridItemContent},!1===l&&h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(z.a,{icon:U.f,className:Object(g.default)(c.mrhalf,c.folderColor),fixedWidth:!0}),k?k.name:o("No group")),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(z.a,{icon:V.v,fixedWidth:!0,className:Object(g.default)(c.mrhalf,c.primaryMain)}),0===e.builds.length?o("No builds"):1===e.builds.length?o("1 build"):o("%s builds").sprintf(e.builds.length)),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(z.a,{icon:V.yd,fixedWidth:!0,className:Object(g.default)(c.mrhalf,c.primaryMain)}),0===e.deployments.length?o("No deployments"):1===e.deployments.length?o("1 deployment"):o("%s deployments").sprintf(e.deployments.length)),e._queues.map((function(e){var a=m(["update-queue"],{app:u,activeSnap:p,queue:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-queue"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-queue"]?t.setState({openManageQueueDialog:!0,selectedObj:e}):null}},h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0}),e.name)})),e._tasks.map((function(e){var a=m(["update-task"],{app:u,activeSnap:p,task:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-task"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-task"]?t.setState({openManageTaskDialog:!0,selectedObj:e}):null}},h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0}),e.name)})),e._endpoints.map((function(e){var a=m(["update-endpoint"],{app:u,activeSnap:p,endpoint:e});return h.a.createElement("div",{key:e._id,className:Object(g.default)(c.gridItemContentEntry,1===a["update-endpoint"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===a["update-endpoint"]?t.setState({openManageEndpointDialog:!0,selectedObj:e}):null},style:{display:"flex"}},h.a.createElement("div",null,h.a.createElement(z.a,{icon:e.enabled?V.H:V.rd,className:Object(g.default)(c.mrhalf,e.enabled?c.success:c.error),fixedWidth:!0})),h.a.createElement("div",{className:c.overflowHidden},h.a.createElement("div",{className:c.ellipsis},e.name),h.a.createElement("div",{className:Object(g.default)(c.breakWord,c.disabled,c.flexCenter,c.mthalf)},h.a.createElement("span",{className:Object(g.default)(t.getMethodClass(c,e),c.mrhalf)},e.method),h.a.createElement("span",{className:c.path},e.path))))}))),h.a.createElement("div",{className:c.gridItemFooter},h.a.createElement("div",{className:c.flexGrow},b&&v?h.a.createElement("div",{className:c.flexCenter},h.a.createElement(he.a,{user:this.getMember(v),size:"small"}),h.a.createElement("div",{className:c.ml1},h.a.createElement("div",{className:Object(g.default)(c.disabled,c.caption)},Object(y.a)(b)))):null),h.a.createElement("div",{className:c.flexCenter},r&&s._id===e._id?h.a.createElement("div",{style:{padding:d.spacing(0,.5)}},h.a.createElement(I.a,{size:24})):h.a.createElement(F.a,{className:c.contextMenuButton,onClick:function(a){return t.showContextMenu(a,e)},disabled:r||1!==f["update-function"]&&1!==f["delete-function"]},h.a.createElement(z.a,{icon:Y.k,className:c.contextMenuIcon})))))}},{key:"getHierarchyEntry",value:function(e,t){for(var a=e.hierarchy,n=0;n<a.length;n++){var r=a[n];if(r._id===t._id)return r;if("group"===r._type)for(var s=0;s<r.items.length;s++){var l=r.items[s];if(l._id===t._id)return l}}return null}},{key:"getMember",value:function(e){var t=this.props,a=t.t,n=t.team,r=Object(ke.e)(e);if(r)return r;for(var s=0;s<n.length;s++){var l=n[s];if(l.userId._id===e)return l.userId}return{_id:e,profile:{userName:a("Former-member"),email:e,firstName:null,lastName:null,imgUrl:null}}}},{key:"getProcessedItems",value:function(){var e,t,a,n=this,r=this.props,s=r.services,l=r.codeFunctions,c=r.app,d=r.activeSnap,u=this.state,p=u.order,m=u.sortKey,h=u.functionSortKey,g=u.orderFunction,f=u.searchStr,v=u.searchFunctionStr,b=u.view,E=u.showGroups,y=u.showFunctionGroups,k=u.activeTab,S="0"===k?Object(i.a)(s):Object(i.a)(l),x="0"===k?f:v;if(e="0"===k?m:h,t="0"===k?"asc"===p?1:-1:"asc"===g?1:-1,x&&x.length>0){var w=new RegExp(x.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");S=S.filter((function(e){return e.name.search(w)>=0}))}(b.endpoint||b.messaging||b.task)&&"0"===k&&(S=S.filter((function(e){return n.filterByView(e)}))),"name"===e?S.sort((function(e,a){var n=e.name.toLowerCase(),r=a.name.toLowerCase();return n<r?-1*t:n>r?1*t:0})):"type"===e?S.sort((function(e,a){var n=e.type,r=a.type;return n<r?-1*t:n>r?1*t:0})):"builds"===e?S.sort((function(e,a){var n=e.builds.length,r=a.builds.length;return n<r?-1*t:n>r?1*t:0})):"deployments"===e?S.sort((function(e,a){var n=e.deployments.length,r=a.deployments.length;return n<r?-1*t:n>r?1*t:0})):"createdAt"===e?S.sort((function(e,a){return(new Date(e.createdAt)-new Date(a.createdAt))*t})):"updatedAt"===e&&S.sort((function(e,a){return((e.updatedAt&&e.updatedBy?new Date(e.updatedAt):new Date)-(a.updatedAt&&a.updatedBy?new Date(a.updatedAt):new Date))*t})),a=S.length;var C=[];E&&"0"===k&&(C=Object(i.a)(d.serviceGroups).sort((function(a,n){if("name"===e){var r=a.name.toLowerCase(),s=n.name.toLowerCase();return r<s?-1*t:r>s?1*t:0}if("createdAt"===e)return(new Date(a.createdAt)-new Date(n.createdAt))*t;var l=a.name.toLowerCase(),i=n.name.toLowerCase();return l<i?-1:l>i?1:0})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{_type:"group",items:[]})})));y&&"1"===k&&(C=(c.functionGroups?Object(i.a)(c.functionGroups):[]).sort((function(a,n){if("name"===e){var r=a.name.toLowerCase(),s=n.name.toLowerCase();return r<s?-1*t:r>s?1*t:0}if("createdAt"===e)return(new Date(a.createdAt)-new Date(n.createdAt))*t;var l=a.name.toLowerCase(),i=n.name.toLowerCase();return l<i?-1:l>i?1:0})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{_type:"group",items:[]})})));for(var O=[],_=0;_<S.length;_++){for(var j=S[_],N=!1,A=0;A<C.length;A++){var F=C[A];j.groupId&&j.groupId===F._id&&(F.items.push(Object(o.a)(Object(o.a)({},j),{},{_type:"entry"})),N=!0)}!1===N&&O.push(Object(o.a)(Object(o.a)({},j),{},{_type:"entry",isLastItem:!1}))}this.hasFilters()&&(C=C.filter((function(e){return e.items.length>0})));for(var M=[],D=0;D<C.length;D++){var I=C[D];M.push(I),this.isExpanded(I._id)&&(M.push.apply(M,Object(i.a)(I.items)),I.items&&I.items.length>0&&(I.items[I.items.length-1].isLastItem=!0))}return M.push.apply(M,O),{hierarchy:[].concat(Object(i.a)(C),O),normalizedList:M,count:a}}},{key:"hasValidationErrors",value:function(e){var t=this.props.validationResults;if(!t||!t.errors)return 0;for(var a=0;a<t.errors.length;a++){var n=t.errors[a];if("service"===n.type&&n.id===e)return n.totalErrors}return 0}}]),a}(h.a.Component),Oe=function(e,t){if(!e.services||!e.endpoints||!e.queues||!e.tasks||!e.models||!e.codeFunctions)return null;var a=[];if("no-code"===t)for(var n=0;n<e.services.length;n++){var r=e.services[n],s=[],l=[],i=[];"endpoint"===r.type?s=je(e.endpoints,r):"messaging"===r.type?l=Ne(e.queues,r):"task"===r.type&&(i=Ae(e.tasks,r)),a.push(Object(o.a)(Object(o.a)({},r),{},{serviceType:"no-code",_endpoints:s,_queues:l,_tasks:i,msgFormat:_e(r,e.models)}))}else for(var c=0;c<e.codeFunctions.length;c++){var d,u,p,m=e.codeFunctions[c];d=je(e.endpoints,m),u=Ne(e.queues,m),p=Ae(e.tasks,m),a.push(Object(o.a)(Object(o.a)({},m),{},{serviceType:"full-code",_endpoints:d,_queues:u,_tasks:p,msgFormat:[]}))}return a},_e=function(e,t){if(!e||!t||"messaging"!==e.type)return[];var a=e.flow.nodes.find((function(e){return e.typeId===Se.a.msgStartNodeTypeId}));return a&&a.config&&a.config.msgInputs?a.config.msgInputs.map((function(e){return{name:e.name,model:t.find((function(t){return t.iname===e.modeliname})),count:e.count}})):[]},je=function(e,t){return e.filter((function(e){return e.serviceiname===t.iname}))},Ne=function(e,t){return e.filter((function(e){return e.serviceiname===t.iname}))},Ae=function(e,t){return e.filter((function(e){return e.serviceiname===t.iname}))};t.default=Object(k.b)((function(e){return{user:e.user,app:e.app,team:e.team,activeSnap:e.activeSnap,models:e.models,services:Oe(e,"no-code"),codeFunctions:Oe(e,"full-code"),openDialog:e.openDialog,validationResults:e.validationResults}}),{authActionGroup:Ee.b,authAction:Ee.a,getAppAction:be.fc,getAppTeamAction:be.pc,getSnapshotAction:be.wd,setActiveSnapshotAction:be.Je,getModelsAction:be.ad,getServicesAction:be.sd,getEndpointsAction:be.Dc,getQueuesAction:be.jd,getTasksAction:be.Ed,moveServicesToGroupAction:be.Ud,deleteServiceAction:be.Mb,deleteServicesAction:be.Ob,createServiceCopyAction:be.ab,deleteServiceGroupAction:be.Nb,deleteMultiServiceGroupAction:be.Eb,getCodeFunctionsAction:be.xc,deleteFunctionAction:be.xb,deleteFunctionsAction:be.yb})(Object(C.a)()(Object(S.a)(Q,{withTheme:!0})(Object(w.a)()(Ce))))}}]);