(this["webpackJsonpui-designer"]=this["webpackJsonpui-designer"]||[]).push([[31],{335:function(e,t,a){"use strict";var n=a(11),r=a(12),o=a(13),i=a(14),s=a(5),l=a.n(s),c=a(22),d=a(109),p=a(120),u=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children;return e.centered?l.a.createElement(p.a,{className:t.centeredContainer},a):l.a.createElement(p.a,{className:t.container},a)}}]),a}(l.a.PureComponent);u.defaultProps={centered:!1},t.a=Object(c.a)((function(e){return{container:{overflowY:"auto",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},centeredContainer:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"flex-start",overflowY:"auto",overflowX:"hidden"}}}),{withTheme:!0})(Object(d.a)()(u))},353:function(e,t,a){"use strict";var n=a(11),r=a(12),o=a(13),i=a(14),s=a(122),l=a(5),c=a.n(l),d=a(22),p=a(109),u=a(814),m=a(778),h=a(80),g=a(82),f=a(328),v=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.rightPanel,r=e.open,o=e.onClose;return c.a.createElement(c.a.Fragment,null,a,c.a.createElement(u.a,{anchor:"right",open:r,onClose:o,classes:{paper:t.rightPanel},elevation:4,ModalProps:{BackdropProps:{invisible:!0}}},this.renderHeader(),n))}},{key:"renderHeader",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.onClose;return c.a.createElement("div",{className:a.header},c.a.createElement("div",{className:a.title},c.a.createElement(h.a,{component:"h1",variant:"h6"},t("Activity history"))),c.a.createElement(m.a,{className:a.closeButton,onClick:n},c.a.createElement(g.a,{icon:f.x,className:a.closeButtonIcon})))}}]),a}(c.a.PureComponent);v.defaultProps={rightPanel:null,rightPanelName:null,open:!1,onClose:null},t.a=Object(d.a)((function(e){var t;return{rightPanel:(t={},Object(s.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(s.a)(t,e.breakpoints.up("sm"),{width:"380px"}),t),header:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:e.spacing(1),marginTop:e.spacing(1),flexShrink:0},title:{flexGrow:1,paddingLeft:e.spacing(2)},closeButton:{padding:e.spacing(.5),color:e.palette.grey[400]},closeButtonIcon:{width:"24px",height:"24px",minWidth:"24px"}}}),{withTheme:!0})(Object(p.a)()(v))},399:function(e,t,a){"use strict";var n=a(122);t.a=function(e){return{container:{overflowY:"auto",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},containerNoScroll:{overflowY:"hidden",overflowX:"hidden",flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(0,1)},content:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap",marginTop:e.spacing(2),marginRight:e.spacing(0),marginLeft:e.spacing(0),marginBottom:e.spacing(2),overflowY:"hidden",overflowX:"hidden"},contentPlaceholder:{flexGrow:1,overflowY:"auto",minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"},noDataPlaceholder:{flexGrow:1,overflowY:"auto",minWidth:0,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",marginTop:e.spacing(5)},headBar:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",marginTop:e.spacing(0),paddingLeft:e.spacing(1),paddingRight:e.spacing(1),flexShrink:0},headBarToolBar:{display:"flex",alignItems:"center",fontSize:e.typography.body2.fontSize,minHeight:"40px"},input:{flex:1,marginLeft:e.spacing(1),marginRight:e.spacing(1),width:180},closeIcon:{color:e.palette.text.disabled,width:"16px",height:"16px","&:hover":{color:e.palette.text.primary,cursor:"pointer"}},menuButton:{padding:e.spacing(.5),marginRight:e.spacing(.5),color:"light"===e.palette.type?e.palette.text.secondary:e.palette.primary.linkForDark},menuButtonIcon:{width:"24px",height:"24px",minWidth:"24px"},closeButton:{position:"absolute",right:e.spacing(2),padding:e.spacing(.5),color:e.palette.grey[400]},noScroll:{overflowY:"hidden",overflowX:"hidden"},scrollY:{overflowY:"auto",overflowX:"hidden"},toolbarDivider:{height:22,marginTop:e.spacing(.5),marginRight:e.spacing(.5),marginBottom:e.spacing(.5),marginLeft:e.spacing(1)},flexCenter:{display:"flex",flexDirection:"row",alignItems:"center"},flexRow:{display:"flex",flexDirection:"row",alignItems:"flex-start"},flexStack:{display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap"},justifyCenter:{justifyContent:"center"},flexGrow:{flexGrow:1},borderFocused:{borderColor:e.palette.primary.light},block:{display:"block"},mlhalf:{marginLeft:e.spacing(.5)},mrhalf:{marginRight:e.spacing(.5)},ml1:{marginLeft:e.spacing(1)},ml2:{marginLeft:e.spacing(2)},mr1:{marginRight:e.spacing(1)},mr2:{marginRight:e.spacing(2)},mthalf:{marginTop:e.spacing(.5)},mt1:{marginTop:e.spacing(1)},mt2:{marginTop:e.spacing(2)},mt3:{marginTop:e.spacing(2)},mb1:{marginBottom:e.spacing(1)},mb2:{marginBottom:e.spacing(2)},padding3:{padding:e.spacing(3)},padding2:{padding:e.spacing(2)},padding1:{padding:e.spacing(1)},pr2:{paddingRight:e.spacing(2)},pl2:{paddingLeft:e.spacing(2)},pt2:{paddingTop:e.spacing(2)},pb2:{paddingBottom:e.spacing(2)},bgcolor:{backgroundColor:"light"===e.palette.type?e.palette.action.selected:e.palette.background.layer3},body1:{fontSize:e.typography.body1.fontSize},body2:{fontSize:e.typography.body2.fontSize},caption:{fontSize:e.typography.caption.fontSize},disabled:{color:e.palette.text.disabled},success:{color:e.palette.success.main},error:{color:e.palette.error.main},warning:{color:e.palette.warning.main},primary:{color:e.palette.text.primary},secondary:{color:e.palette.text.secondary},secondaryColor:{color:"light"===e.palette.type?"#f50057":"#ff4081"},primaryMain:{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},italic:{fontStyle:"italic"},bold:{fontWeight:500},extraBold:{fontWeight:700},showLineBreaks:{whiteSpace:"pre-wrap"},pointer:{cursor:"pointer"},link:{color:e.palette.text.primary,"&:hover":{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},anchor:{cursor:"pointer",color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark,"&:hover":{textDecoration:"underline"}},highlight:{backgroundColor:"#ffeb3b"},tabArea:{flexGrow:1,overflowY:"auto",overflowX:"hidden"},tabList:{borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:e.palette.divider,marginBottom:e.spacing(2),borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},tabTextWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},tabIcon:{marginRight:e.spacing(1),width:"18px",height:"18px",minWidth:"18px"},tabRoot:{minWidth:0},borderTop:{borderTop:"1px solid",borderTopColor:e.palette.divider},paper:{backgroundColor:"light"===e.palette.type?e.palette.background.default:e.palette.background.layer2},rounded:{borderRadius:e.spacing(1)},roundedStd:{borderRadius:e.shape.borderRadius},border:{border:"1px solid",borderColor:e.palette.divider},selectCount:{marginLeft:e.spacing(0),minWidth:"24px"},tableArea:{flexGrow:1,overflowY:"auto",overflowX:"auto"},table:{"& .ReactVirtualized__Table__headerRow":{borderBottom:"2px solid",borderBottomColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.16)"},"& .ReactVirtualized__Table__Grid":{outline:"none"}},headerCell:{display:"flex",alignItems:"center",boxSizing:"border-box",flex:1,border:0,fontWeight:500},dataCell:{display:"flex",alignItems:"center",boxSizing:"border-box",flex:1,border:0},visible:{overflow:"visible"},borderBottom:{borderBottom:"1px solid",borderBottomColor:e.palette.divider},contextMenuCell:{padding:0},contextMenuButton:{padding:e.spacing(.5),color:"light"===e.palette.type?e.palette.text.secondary:e.palette.primary.linkForDark},contextMenuIcon:{width:"24px",height:"24px",minWidth:"24px"},contextMenuIcon2:{width:"24px",height:"24px",minWidth:"24px",padding:e.spacing(.75)},tableHeadIcon:{marginRight:e.spacing(.5)},breakWord:{whiteSpace:"normal",wordWrap:"break-word"},folderColor:{color:"#ffd600"},noBorder:{border:0},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,minHeight:"20px",padding:e.spacing(0,.75),fontSize:e.typography.caption.fontSize,minWidth:"20px",alignContent:"center",display:"inline-block",borderRadius:"10px",lineHeight:"20px",textAlign:"center"},badgeGrey:{backgroundColor:"light"===e.palette.type?e.palette.background.layer3:e.palette.background.default,color:e.palette.text.secondary,minHeight:"20px",padding:e.spacing(0,.75),fontSize:e.typography.caption.fontSize,minWidth:"20px",alignContent:"center",display:"inline-block",borderRadius:"10px",lineHeight:"20px",textAlign:"center"},badgeSmall:{backgroundColor:"light"===e.palette.type?e.palette.background.layer3:e.palette.background.default,color:e.palette.text.secondary,minHeight:"16px",padding:e.spacing(0,.5),fontSize:e.typography.caption.fontSize,minWidth:"16px",alignContent:"center",display:"inline-block",borderRadius:"8px",lineHeight:"16px",textAlign:"center"},gridArea:Object(n.a)({flexGrow:1,display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",alignContent:"flex-start",flexWrap:"wrap",overflowY:"auto",overflowX:"hidden"},e.breakpoints.up("md"),{paddingRight:e.spacing(1)}),gridItemLogo:{position:"absolute",fontSize:60,color:e.palette.background.layer3,bottom:e.spacing(2.5),right:e.spacing(1.5)},gridItemHeader:{padding:e.spacing(1,2),flexShrink:0,fontWeight:500,display:"flex",alignItems:"center",borderBottom:"1px solid",borderBottomColor:e.palette.divider,backgroundColor:e.palette.background.layer2,overflow:"hidden"},gridItemHeaderLink:{cursor:"pointer","&:hover":{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},gridItemContent:{padding:e.spacing(1,2),flexGrow:1,overflowY:"auto",overflowX:"hidden",zIndex:1},gridItemContentLink:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}},gridItemContentEntry:{fontSize:e.typography.caption.fontSize,padding:e.spacing(.5),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},gridItemContentEntryBreakWord:{fontSize:e.typography.caption.fontSize,padding:e.spacing(.5),whiteSpace:"normal",wordWrap:"break-word"},gridItemContentEntryLink:{borderRadius:e.spacing(1),cursor:"pointer","&:hover":{backgroundColor:"light"===e.palette.type?e.palette.primary.bgColor:e.palette.action.hover,color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark}},gridItemContentEntryDisabled:{color:e.palette.text.disabled},gridItemFooter:{padding:e.spacing(.5,1.5),flexShrink:0,display:"flex",alignItems:"center"},fullWidth:{width:"100%"},description:{fontSize:e.typography.caption.fontSize,color:e.palette.text.disabled,fontStyle:"italic"},favorite:{marginLeft:e.spacing(.5),color:"#ff8a80",fontSize:"0.6rem",position:"relative",top:"-4px"},chip:{border:"none",height:"24px",display:"inline-flex",outline:0,fontSize:e.typography.caption.fontSize,alignItems:"center",whiteStapce:"nowrap",borderRadius:e.spacing(2),verticalAlign:"middle",justifyContent:"center",backgroundColor:e.palette.divider,padding:e.spacing(0,1),marginRight:e.spacing(.5),marginBottom:e.spacing(.25)},"@keyframes fadeBgColor":{"0%":{backgroundColor:"light"===e.palette.type?e.palette.primary.bgColor:e.palette.action.hover},"100%":{backgroundColor:"inherit"}},newEntry:{animation:"$fadeBgColor 6s forwards"},ellipsis:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},thickCellBorder:{borderBottom:"2px solid",borderBottomColor:e.palette.divider},cellBorder:{borderBottom:"1px solid",borderBottomColor:e.palette.divider},overflowHidden:{overflow:"hidden"},getMethod:{backgroundColor:e.palette.info.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},postMethod:{backgroundColor:e.palette.success.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},putMethod:{backgroundColor:e.palette.warning.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},deleteMethod:{backgroundColor:e.palette.error.main,color:e.palette.common.white,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},disabledMethod:{backgroundColor:e.palette.background.layer3,color:e.palette.text.disabled,fontWeight:700,padding:e.spacing(.5),borderRadius:e.shape.borderRadius,minWidth:"65px",textAlign:"center"},getMethodText:{color:e.palette.info.main,fontWeight:700},postMethodText:{color:e.palette.success.main,fontWeight:700},putMethodText:{color:e.palette.warning.main,fontWeight:700},deleteMethodText:{color:e.palette.error.main,fontWeight:700},disabledMethodText:{color:e.palette.error.disabled,fontWeight:700},nodeSystem:{color:e.palette.text.disabled},nodeBasic:{color:e.palette.success.main},nodeAdvanced:{color:e.palette.warning.main},nodeObject:{color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},formLabel:{color:e.palette.text.primary,fontWeight:500,marginBottom:e.spacing(1),fontSize:e.typography.body2.fontSize,textTransform:"uppercase"}}}},517:function(e,t,a){"use strict";var n=a(11),r=a(12),o=a(13),i=a(14),s=a(5),l=a.n(s),c=a(22),d=a(109),p=a(774),u=a(82),m=a(81),h=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={panelAnchorEl:null},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.icon;return t.text?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:a.icon,onClick:function(t){return e.setState({panelAnchorEl:t.currentTarget})}},l.a.createElement(u.a,{icon:n,fixedWidth:!0})),this.renderPanel()):null}},{key:"renderPanel",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.text,o=this.state.panelAnchorEl;return o?l.a.createElement(p.a,{id:"descriptionPopUpPanel",anchorEl:o,open:Boolean(o),onClose:function(){return e.setState({panelAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement("div",{className:n.panel},l.a.createElement("div",{className:n.title},a("Description")),l.a.createElement("div",null,r))):null}}]),a}(l.a.PureComponent);h.defaultProps={icon:m.wb,text:null,type:"service"},t.a=Object(c.a)((function(e){return{icon:{cursor:"pointer",marginLeft:e.spacing(.5),color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},panel:{overflowY:"auto",width:400,maxHeight:600,whiteSpace:"pre-wrap",padding:e.spacing(2)},title:{fontWeight:500,marginBottom:e.spacing(1)}}}),{withTheme:!0})(Object(d.a)()(h))},618:function(e,t,a){"use strict";var n=a(11),r=a(12),o=a(13),i=a(14),s=a(5),l=a.n(s),c=a(22),d=a(109),p=a(774),u=a(82),m=a(81),h=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={panelAnchorEl:null},r}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.icon;return t.children?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:a.icon,onClick:function(t){return e.setState({panelAnchorEl:t.currentTarget})}},l.a.createElement(u.a,{icon:n,fixedWidth:!0})),this.renderPanel()):null}},{key:"renderPanel",value:function(){var e=this,t=this.props,a=t.classes,n=t.children,r=this.state.panelAnchorEl;return r?l.a.createElement(p.a,{id:"notesPopUpPanel",anchorEl:r,open:Boolean(r),onClose:function(){return e.setState({panelAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},l.a.createElement("div",{className:a.panel},n)):null}}]),a}(l.a.PureComponent);h.defaultProps={icon:m.sb},t.a=Object(c.a)((function(e){return{icon:{cursor:"pointer",marginLeft:e.spacing(.5),color:"light"===e.palette.type?e.palette.primary.main:e.palette.primary.linkForDark},panel:{overflowY:"auto",maxHeight:600,whiteSpace:"pre-wrap",padding:e.spacing(2)},title:{fontWeight:700,marginBottom:e.spacing(1)}}}),{withTheme:!0})(Object(d.a)()(h))},882:function(e,t,a){"use strict";a.r(t);var n=a(129),r=a(15),o=a(4),i=a(2),s=a.n(i),l=a(3),c=a(11),d=a(12),p=a(13),u=a(14),m=a(5),h=a.n(m),g=a(18),f=a(349),v=a.n(f),b=a(346),E=a.n(b),y=a(506),S=a(51),x=a(22),w=a(511),k=a(109),A=a(323),O=a(177),C=a(120),_=a(810),j=a(904),R=a(589),N=a(778),M=a(80),T=a(499),I=a(299),F=a(671),D=a(804),L=a(880),P=a(745),G=a(119),B=a(561),W=a(774),z=a(669),q=a(82),K=a(326),H=a(328),Y=a(81),V=a(359),U=a(399),X=function(e){return Object(o.a)(Object(o.a)({},Object(U.a)(e)),{},{content:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"flex-start",flexWrap:"nowrap",marginTop:e.spacing(2),paddingRight:e.spacing(2),paddingLeft:e.spacing(2),marginBottom:e.spacing(2)},itemList:{maxHeight:300,overflowY:"auto",overflowX:"hidden"},pl5:{paddingLeft:e.spacing(5)},gridItem:{display:"flex",flexDirection:"column",backgroundColor:e.palette.background.layer1,margin:e.spacing(1,0,2,0),position:"relative"},gridGroup:{width:"100%",display:"flex",flexDirection:"column",margin:e.spacing(1,0,1,0),position:"relative"},model:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:500},copyContainer:{display:"inline-flex",alignItems:"center","&:hover":{color:e.palette.text.primary,cursor:"pointer"}},copyCaption:{fontSize:"0.7rem"}})},$=a(342),J=a(502),Z=a(335),Q=a(353),ee=a(337),te=a(71),ae=a(351),ne=a(392),re=a(368),oe=a(545),ie=a(606),se=a(396),le=a(650),ce=a(388),de=a(352),pe=a(517),ue=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={panelAnchorEl:null},n}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.icon;return t.rateLimit?h.a.createElement(h.a.Fragment,null,h.a.createElement("span",{className:a.icon,onClick:function(t){return e.setState({panelAnchorEl:t.currentTarget})}},h.a.createElement(q.a,{icon:n,fixedWidth:!0})),this.renderPanel()):null}},{key:"renderPanel",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.rateLimit,o=this.state.panelAnchorEl;return o?h.a.createElement(W.a,{id:"rateLimitPopUpPanel",anchorEl:o,open:Boolean(o),onClose:function(){return e.setState({panelAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},h.a.createElement("div",{className:n.panel},h.a.createElement("div",{className:n.title},a("Rate limited")),h.a.createElement("div",{className:n.name},r.name),h.a.createElement("div",{className:n.desc},h.a.createElement(w.a,{defaults:a("Max <bold>%s</bold> requests every <bold>%s</bold> second(s)").sprintf(r.rate,r.duration),components:{bold:h.a.createElement("strong",null)}})))):null}}]),a}(h.a.PureComponent);ue.defaultProps={icon:Y.kd,rateLimit:null};var me=Object(x.a)((function(e){return{icon:{cursor:"pointer",marginLeft:e.spacing(.5),color:e.palette.success.main},panel:{overflowY:"auto",width:400,maxHeight:600,whiteSpace:"pre-wrap",padding:e.spacing(2)},title:{fontWeight:500,marginBottom:e.spacing(1)},name:{fontStyle:"italic"},desc:{}}}),{withTheme:!0})(Object(k.a)()(ue)),he=a(618),ge=a(377),fe=a(60),ve=a(110),be=a(338),Ee=a(16),ye=a(515),Se=a(17),xe=["dataKey","flexGrow"],we=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleRouteChange=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.props.endpoints,o=new URLSearchParams(t.search),(i=o.get("ep"))&&(l=r.find((function(e){return e._id===i})))&&n.setState({openCreateDialog:!0,selectedObj:l});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.clearFlag=function(){n.setState({showActionFlag:!1,actionMessage:null,actionType:"success"})},n.noRowsRenderer=function(e){var t=n.state.showGroups,a=n.props,r=a.t,o=a.classes,i=a.activeSnap;return 0!==a.endpoints.length||0!==i.endpointGroups.length&&!1!==t?0===e.count&&n.hasFilters()?h.a.createElement("div",{className:Object(g.default)(o.noDataPlaceholder,o.padding2,o.borderBottom)},h.a.createElement(be.a,{icon:Y.vc,mainMessage:r("No endpoints matching filter criteria"),message:r("Didn't find what you're looking for? Some endpoints may be hidden because of the filters you've selected."),smallIcon:!0,action:r("Reset filters"),actionIcon:Y.xd,callBack:n.resetFilters,searchResult:!0})):null:h.a.createElement("div",{className:Object(g.default)(o.noDataPlaceholder,o.padding2,o.borderBottom)},n.renderNoData())},n.headerRenderer=function(e,t){var a=n.state,r=a.sortKey,o=a.order,i=a.multiSelect,s=n.props.classes;return"data"===e.type?e.sortKey?h.a.createElement(_.a,{component:"div",className:s.headerCell,style:{height:Se.a.tableHeaderHeight}},h.a.createElement(j.a,{active:r===e.sortKey,direction:r===e.sortKey?o:"asc",onClick:function(){return n.sort(e.sortKey)}},e.icon&&h.a.createElement(q.a,{icon:e.icon,className:s.tableHeadIcon,fixedWidth:!0}),e.label)):h.a.createElement(_.a,{component:"div",className:s.headerCell,style:{height:Se.a.tableHeaderHeight}},e.icon&&h.a.createElement(q.a,{icon:e.icon,className:s.tableHeadIcon,fixedWidth:!0}),e.label):"menu"===e.type?h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.contextMenuCell,s.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},"\xa0"):"check"===e.type?h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.contextMenuCell,s.headerCell),align:"center",style:{height:Se.a.tableHeaderHeight}},h.a.createElement(L.a,{checked:i,onChange:function(){return n.selectMultiple(t)},color:"primary"})):void 0},n.rowRenderer=function(e){var t=n.state.showGroups,a=n.props.classes,r="group"===e.rowData._type&&n.isExpanded(e.rowData._id);return Object(z.d)(Object(o.a)(Object(o.a)({},e),{},{className:Object(g.default)(e.className,!t||"group"!==e.rowData._type||0!==e.rowData.items.length&&r?null:a.thickCellBorder,!1===t?a.cellBorder:null,e.rowData.isLastItem?a.thickCellBorder:null,Object(Ee.h)(e.rowData,Se.a.newlyCreatedFlagDurationMs)?a.newEntry:null)}))},n.cellRenderer=function(e){return"entry"===e.rowData._type?n.renderEntry(e.dataKey,e.rowData,e.isScrolling):n.renderGroup(e.dataKey,e.rowData,e.isScrolling)},n.getMethodClass=function(e,t){return!1===t.enabled?e.disabledMethod:"GET"===t.method?e.getMethod:"POST"===t.method?e.postMethod:"PUT"===t.method?e.putMethod:e.deleteMethod},n.getGroup=function(e){for(var t=n.props.activeSnap,a=0;a<t.endpointGroups.length;a++){var r=t.endpointGroups[a];if(r._id===e.groupId)return r}return null},n.showContextMenu=function(e,t){n.setState({contextAnchorEl:e.currentTarget,selectedObj:t})},n.closeContextMenu=function(){n.setState({contextAnchorEl:null,selectedObj:null})},n.showHideGroups=function(){var e=n.state.showGroups;n.setState({viewAnchorEl:null,showGroups:!e}),Object(Ee.m)("epListShowGroups",!e)},n.toggleView=function(e){var t={all:!1,endpoint:!1,messaging:!1,task:!1};t[e]=!0,n.setState({view:t,filterAnchorEl:null}),Object(Ee.m)("epListViewType",t)},n.selectMultiple=function(e){var t=n.state,a=t.multiSelect,o=t.selectedItems;if(a)n.setState({multiSelect:!a,selectedItems:o.filter((function(t){for(var a=0;a<e.hierarchy.length;a++){var n=e.hierarchy[a];if("group"===n._type){if(n._id===t._id)return!1;for(var r=0;r<n.items.length;r++){if(n.items[r]._id===t._id)return!1}}else if(n._id===t._id)return!1}return!0}))});else{for(var i=[],s=0;s<e.hierarchy.length;s++){var l=e.hierarchy[s];i.push(l),"group"===l._type&&i.push.apply(i,Object(r.a)(l.items))}n.setState({multiSelect:!a,selectedItems:i})}},n.isChecked=function(e){for(var t=n.state.selectedItems,a=0;a<t.length;a++){if(t[a]._id===e._id)return!0}return!1},n.manageSelection=function(e){var t=n.state,a=t.selectedItems,o=t.multiSelect;if(n.isChecked(e)){var i=a.filter((function(t){return t._id!==e._id}));n.setState({selectedItems:i,multiSelect:0!==i.length&&o})}else{var s=Object(r.a)(a);s.push(e),n.setState({selectedItems:s})}},n.manageGroupSelection=function(e){var t=n.state,a=t.selectedItems,o=t.multiSelect;if(n.isChecked(e)){var i=a.filter((function(t){if(t._id===e._id)return!1;for(var a=0;a<e.items.length;a++){if(e.items[a]._id===t._id)return!1}return!0}));n.setState({selectedItems:i,multiSelect:0!==i.length&&o})}else{var s=Object(r.a)(a);s.push.apply(s,[e].concat(Object(r.a)(e.items))),n.setState({selectedItems:s})}},n.refreshSelection=function(){for(var e=n.state.selectedItems,t=[],a=n.getProcessedItems(),r=0;r<e.length;r++){var o=e[r],i=n.getHierarchyEntry(a,o);i&&t.push(i)}n.setState({selectedItems:t})},n.hasFilters=function(){return""!==n.state.searchStr||n.getFilterCount()>0},n.resetFilters=function(){n.setState({searchStr:"",filter:[]})},n.sort=function(e){var t=n.state,a=t.sortKey,r=t.order;e===a?(Object(Ee.m)("epListSortOrder","asc"===r?"desc":"asc"),n.setState({order:"asc"===r?"desc":"asc"})):(Object(Ee.m)("epListSortKey",e),Object(Ee.m)("epListSortOrder","asc"),n.setState({sortKey:e,order:"asc"}))},n.sort2=function(e,t){Object(Ee.m)("epListSortKey",e),Object(Ee.m)("epListSortOrder",t),n.setState({sortKey:e,order:t,filterAnchorEl:null})},n.filter=function(e,t,a){if("all"!==e||"all"!==t)if(a){var o=n.addFilter(e,t);n.setState({filter:Object(r.a)(o),page:1})}else{var i=n.removeFilter(e,t);n.setState({filter:Object(r.a)(i),page:1})}else n.setState({filter:[],page:1})},n.enableEndpoint=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.enableEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Enabled endpoint"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.enableEndpoints=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.enableEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===l("update-endpoint",{app:o,activeSnap:i,endpoint:h})&&!1===h.enabled&&(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Enabled %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.disableEndpoint=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.disableEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Disabled endpoint"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.disableEndpoints=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.disableEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===l("update-endpoint",{app:o,activeSnap:i,endpoint:h})&&h.enabled&&(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Disabled %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.setApiKey=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.setApiKeyEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Set API key requirement"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.setApiKeys=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.setApiKeyEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===l("update-endpoint",{app:o,activeSnap:i,endpoint:h})&&!1===h.apiKeyRequired&&(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Set API key requirement of %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.removeApiKey=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.removeApiKeyEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Removed API key requirement"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.removeApiKeys=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.removeApiKeyEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"!==(h=d[m])._type||1!==l("update-endpoint",{app:o,activeSnap:i,endpoint:h})||void 0!==h.apiKeyRequired&&!0!==h.apiKeyRequired||(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Removed API key requirement of %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.setSession=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.setSessionEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Set session requirement"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.setSessions=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.setSessionEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===l("update-endpoint",{app:o,activeSnap:i,endpoint:h})&&!1===h.sessionRequired&&(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Set session requirement of %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.removeSession=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.removeSessionEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Removed session requirement"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.removeSessions=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.removeSessionEndpointsAction,d=n.state.selectedItems,p=[],u=[],m=0;m<d.length;m++)"entry"===(h=d[m])._type&&1===l("update-endpoint",{app:o,activeSnap:i,endpoint:h})&&h.sessionRequired&&(p.push({method:h.method,name:h.name,fullName:h.name,path:h.path,_id:h._id}),u.push(h._id));if(0!==u.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,c(r._id,r.token,o._id,i._id,{info:p,epIds:u});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Removed session requirement of %s endpoint(s)").sprintf(u.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)}))),n.moveToGroup=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.moveEndpointsToGroupAction,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(o._id,o.token,i._id,l._id,t._id,{endpoints:[d._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Moved endpoint to group %s").sprintf(t.name),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.moveMultiToGroup=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.moveEndpointsToGroupAction,p=n.state.selectedItems,u=[],m=0;m<p.length;m++)"entry"!==(h=p[m])._type||1!==c("update-endpoint",{app:i,activeSnap:l,endpoint:h})||h.groupId===t._id&&(h.groupId||-1===t._id)||u.push(h._id);if(0!==u.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=10,d(o._id,o.token,i._id,l._id,t._id,{endpoints:u});case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Moved %s endpoint(s) to group %s").sprintf(u.length,t.name),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setRateLimit=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.setRateLimitOfEndpointsAction,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(o._id,o.token,i._id,l._id,t._id,{endpoints:[d._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Set rate limit of endpoint to %s").sprintf(t.name),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setRateLimit2=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.setRateLimitOfEndpointsAction2,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(o._id,o.token,i._id,l._id,t._id,{endpoints:[d._id]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Set rate limit #2 of endpoint to %s").sprintf(t.name),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setRateLimitOfMulti=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.setRateLimitOfEndpointsAction,p=n.state.selectedItems,u=[],m=0;m<p.length;m++)"entry"!==(h=p[m])._type||1!==c("update-endpoint",{app:i,activeSnap:l,endpoint:h})||h.rateLimit===t._id&&(h.rateLimit||-1===t._id)||u.push(h._id);if(0!==u.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=10,d(o._id,o.token,i._id,l._id,t._id,{endpoints:u});case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Set rate limit of %s endpoint(s) to %s").sprintf(u.length,t.name),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setRateLimit2OfMulti=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.setRateLimitOfEndpointsAction2,p=n.state.selectedItems,u=[],m=0;m<p.length;m++)"entry"!==(h=p[m])._type||1!==c("update-endpoint",{app:i,activeSnap:l,endpoint:h})||h.rateLimit2===t._id&&(h.rateLimit2||-1===t._id)||u.push(h._id);if(0!==u.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=10,d(o._id,o.token,i._id,l._id,t._id,{endpoints:u});case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Set rate limit #2 of %s endpoint(s) to %s").sprintf(u.length,t.name),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addRoleToEndpoint=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.addRoleToEndpointsAction,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(o._id,o.token,i._id,l._id,{info:[{method:d.method,name:d.name,fullName:d.name,path:d.path,_id:d._id}],epIds:[d._id],roleName:t.name,roleId:t.key});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Added access group to endpoint"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addRoleToEndpoints=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.addRoleToEndpointsAction,p=n.state.selectedItems,u=[],m=[],h=0;h<p.length;h++)"entry"===(g=p[h])._type&&1===c("update-endpoint",{app:i,activeSnap:l,endpoint:g})&&!1===g.authorizedAppRoles.includes(t.key)&&(u.push({method:g.method,name:g.name,fullName:g.name,path:g.path,_id:g._id}),m.push(g._id));if(0!==m.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,d(o._id,o.token,i._id,l._id,{info:u,epIds:m,roleName:t.name,roleId:t.key});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Added access group %s to %s endpoint(s)").sprintf(t.name,m.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.removeRoleFromEndpoint=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.removeRoleFromEndpointsAction,d=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,c(o._id,o.token,i._id,l._id,{info:[{method:d.method,name:d.name,fullName:d.name,path:d.path,_id:d._id}],epIds:[d._id],roleName:t.name,roleId:t.key});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("Removed access group from endpoint"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.removeRoleFromEndpoints=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.removeRoleFromEndpointsAction,p=n.state.selectedItems,u=[],m=[],h=0;h<p.length;h++)"entry"===(g=p[h])._type&&1===c("update-endpoint",{app:i,activeSnap:l,endpoint:g})&&!0===g.authorizedAppRoles.includes(t.key)&&(u.push({method:g.method,name:g.name,fullName:g.name,path:g.path,_id:g._id}),m.push(g._id));if(0!==m.length){e.next=8;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 8:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=11,d(o._id,o.token,i._id,l._id,{info:u,epIds:m,roleName:t.name,roleId:t.key});case 11:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Removed access group %s from %s endpoint(s)").sprintf(t.name,m.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteEndpoint=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.deleteEndpointsAction,c=n.state.selectedObj,n.setState({progress:!0,contextAnchorEl:null}),e.next=5,l(r._id,r.token,o._id,i._id,{info:[{method:c.method,name:c.name,fullName:c.name,path:c.path,_id:c._id}],epIds:[c._id],epinames:[c.iname]});case 5:200===e.sent.status?(n.refreshSelection(),n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("Deleted endpoint"),actionType:"success"})):n.setState({progress:!1,selectedObj:null,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 7:case"end":return e.stop()}}),e)}))),n.deleteEndpoints=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,r,o,i,l,c,d,p,u,m,h,g,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=n.props,r=a.t,o=a.user,i=a.app,l=a.activeSnap,c=a.authAction,d=a.deleteEndpointsAction,p=n.state.selectedItems,u=[],m=[],h=[],t=t||p,g=0;g<t.length;g++)"entry"===(f=t[g])._type&&1===c("delete-endpoint",{app:i,activeSnap:l,endpoint:f})&&(u.push({method:f.method,name:f.name,fullName:f.name,path:f.path,_id:f._id}),m.push(f._id),h.push(f.iname));if(0!==m.length){e.next=10;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 10:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=13,d(o._id,o.token,i._id,l._id,{info:u,epIds:m,epinames:h});case 13:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("Deleted %s endpoint(s)").sprintf(m.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:r("An error has occured!"),actionType:"error"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteEndpointGroup=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.user,r=t.app,o=t.activeSnap,i=t.deleteEndpointGroupAction,l=n.state.selectedObj,n.setState({contextAnchorEl:null,progress:!0}),e.next=5,i(a._id,a.token,r._id,o._id,l._id);case 5:n.refreshSelection(),n.setState({progress:!1,selectedObj:null});case 7:case"end":return e.stop()}}),e)}))),n.deleteGroupAndEndpoints=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.user,r=t.app,o=t.activeSnap,i=t.deleteEndpointGroupAction,l=n.state.selectedObj,n.setState({contextAnchorEl:null,progress:!0}),e.next=5,n.deleteEndpoints(l.items);case 5:return e.next=7,i(a._id,a.token,r._id,o._id,l._id);case 7:n.refreshSelection(),n.setState({progress:!1,selectedObj:null});case 9:case"end":return e.stop()}}),e)}))),n.deleteEndpointGroups=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,l,c,d,p,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,a=t.t,r=t.user,o=t.app,i=t.activeSnap,l=t.authAction,c=t.deleteMultiEndpointGroupAction,d=n.state.selectedItems,p=[],u=0;u<d.length;u++)"group"===(m=d[u])._type&&1===l("update-snapshot",{app:o,activeSnap:i})&&p.push(m._id);if(0!==p.length){e.next=7;break}return n.setState({selectedMenuAnchorEl:null}),e.abrupt("return");case 7:return n.setState({multiProgress:!0,selectedMenuAnchorEl:null}),e.next=10,c(r._id,r.token,o._id,i._id,p);case 10:200===e.sent.status?(n.refreshSelection(),n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("Deleted %s endpoint group(s)").sprintf(p.length),actionType:"success"})):n.setState({multiProgress:!1,showActionFlag:!0,actionMessage:a("An error has occured!"),actionType:"error"});case 12:case"end":return e.stop()}}),e)}))),n.expandGroup=function(e){var t=n.state.expandedGroups,a=[].concat(Object(r.a)(t),[e]);n.setState({expandedGroups:a})},n.collapseGroup=function(e){var t=n.state.expandedGroups.filter((function(t){return t!==e}));n.setState({expandedGroups:t})},n.isExpanded=function(e){return n.state.expandedGroups.includes(e)},n.getRateLimit=function(e){var t=n.props.app;if(!e)return null;for(var a=t.rateLimits?t.rateLimits:[],r=0;r<a.length;r++){var o=a[r];if(o._id===e)return o}return null},n.unregisterHistoryListener=null;var i=n.props.user.uiPreferences.defaultSortOrder,d="createdAt",p="desc";return"most-recent"===i?(d="createdAt",p="desc"):"oldest-first"===i?(d="createdAt",p="asc"):"alphabetically-asc"===i?(d="name",p="asc"):(d="name",p="desc"),n.state={errorTitle:null,errorMessage:null,searchStr:"",sortKey:Object(Ee.g)("epListSortKey",d),order:Object(Ee.g)("epListSortOrder",p),showGroups:Object(Ee.g)("epListShowGroups",!0),filter:[],showRightPanel:!1,selectedItems:[],multiProgress:!1,addAnchorEl:null,filterAnchorEl:null,viewAnchorEl:null,openCreateDialog:!1,openCreateGroupDialog:!1,openConfirmDialog:!1,openRenameDialog:!1,openConfirmDialogMulti:!1,selectedObj:null,multiSelect:!1,progress:!1,contextAnchorEl:null,showActionFlag:!1,actionMessage:null,actionType:"success",selectedMenuAnchorEl:null,expandedGroups:[],copiedFlag:!1,envAnchorEl:null,copiedText:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,r,o,i,l,c,d,p,u,m,h,g,f,v,b,E,y,S,x,w,k,A,O,C,_,j,R,N,M,T,I,F,D;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,a=this.props,n=a.t,r=a.user,o=a.app,i=a.activeSnap,l=a.team,c=a.models,d=a.services,p=a.codeFunctions,u=a.endpoints,m=a.envs,h=a.getAppAction,g=a.getAppTeamAction,f=a.getSnapshotAction,v=a.setActiveSnapshotAction,b=a.getModelsAction,E=a.getServicesAction,y=a.getEndpointsAction,S=a.getEnvsAction,x=a.getCodeFunctionsAction,w=a.match,k=a.location,A=a.history,O=o||null,C=l||null,_=d||null,j=null,R=u||null,N=c||null,M=m||null,T=p||null,i&&i._id===w.params.snapId?j=i:(j=null,_=null,R=null,N=null),O){e.next=21;break}return e.next=14,h(w.params.userId,r.token,w.params.appId);case 14:if(200===(t=e.sent).status){e.next=20;break}return this.setState({errorTitle:n("An error has occured while loading the application!"),errorMessage:t.data.details}),e.abrupt("return");case 20:O=t.data;case 21:if(C||!O){e.next=31;break}return e.next=24,g(w.params.userId,r.token,w.params.appId);case 24:if(200===(t=e.sent).status){e.next=30;break}return this.setState({errorTitle:n("An error has occured while loading the team information!"),errorMessage:t.data.details}),e.abrupt("return");case 30:C=t.data;case 31:if(j||!C){e.next=42;break}return e.next=34,f(w.params.userId,r.token,w.params.appId,w.params.snapId);case 34:if(200===(t=e.sent).status){e.next=40;break}return this.setState({errorTitle:n("An error has occured while loading the snapshot information!"),errorMessage:t.data.details}),e.abrupt("return");case 40:j=t.data,v(t.data);case 42:if(N||!j){e.next=52;break}return e.next=45,b(w.params.userId,r.token,w.params.appId,w.params.snapId);case 45:if(200===(t=e.sent).status){e.next=51;break}return this.setState({errorTitle:n("An error has occured while loading models!"),errorMessage:t.data.details}),e.abrupt("return");case 51:N=t.data;case 52:if(_||!j){e.next=62;break}return e.next=55,E(w.params.userId,r.token,w.params.appId,w.params.snapId);case 55:if(200===(t=e.sent).status){e.next=61;break}return this.setState({errorTitle:n("An error has occured while loading services!"),errorMessage:t.data.details}),e.abrupt("return");case 61:_=t.data;case 62:if(R||!j){e.next=72;break}return e.next=65,y(w.params.userId,r.token,w.params.appId,w.params.snapId);case 65:if(200===(t=e.sent).status){e.next=71;break}return this.setState({errorTitle:n("An error has occured while loading endpoints!"),errorMessage:t.data.details}),e.abrupt("return");case 71:R=t.data;case 72:if(T||!r||!O){e.next=82;break}return e.next=75,x(w.params.userId,r.token,w.params.appId);case 75:if(200===(t=e.sent).status){e.next=81;break}return this.setState({errorTitle:n("An error has occured while loading full-code services!"),errorMessage:t.data.details}),e.abrupt("return");case 81:T=t.data;case 82:if(M||!r||!O){e.next=92;break}return e.next=85,S(w.params.userId,r.token,w.params.appId);case 85:if(200===(t=e.sent).status){e.next=91;break}return this.setState({errorTitle:n("An error has occured while loading environments!"),errorMessage:t.data.details}),e.abrupt("return");case 91:M=t.data;case 92:this.unregisterHistoryListener=A.listen(this.handleRouteChange),I=new URLSearchParams(k.search),(F=I.get("ep"))&&(D=R.find((function(e){return e._id===F})))&&this.setState({openCreateDialog:!0,selectedObj:D}),document.title=n("Endpoints")+" | Altogic";case 97:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unregisterHistoryListener&&this.unregisterHistoryListener()}},{key:"shouldComponentUpdate",value:function(e,t){var a=e.openDialog,n=e.width;return!a||n!==this.props.width}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.classes,r=t.theme,o=t.app,i=t.team,s=t.activeSnap,l=t.endpoints,c=t.envs,d=t.width,p=this.state,u=p.errorMessage,m=p.errorTitle,f=p.openCreateDialog,v=p.openCreateGroupDialog,b=p.openConfirmDialog,E=p.openRenameDialog,y=p.openConfirmDialogMulti,S=p.selectedObj,x=p.selectedItems,k=p.copiedFlag,A=p.copiedText;return A&&setTimeout((function(){e.copyToClipboard(A),e.setState({copiedText:null,copiedFlag:!0})}),0),u||m?h.a.createElement(Z.a,{centered:!0},h.a.createElement(C.a,{className:n.content},h.a.createElement(C.a,{className:n.contentPlaceholder},h.a.createElement(te.a,{mainMessage:m,message:u})))):o&&i&&s&&l&&c?h.a.createElement(C.a,{className:"xs"===d||"sm"===d?n.container:n.containerNoScroll},this.renderContent(),f&&h.a.createElement(oe.a,{fullWidth:!0,maxWidth:"sm",open:f,handleClose:function(){return e.setState({openCreateDialog:!1,selectedObj:null})},endpoint:S?{endpoint:S}:null}),v&&h.a.createElement(ie.a,{fullWidth:!0,maxWidth:"sm",open:v,handleClose:function(){return e.setState({openCreateGroupDialog:!1})}}),b&&h.a.createElement(se.a,{fullWidth:!0,maxWidth:"sm",open:b,handleClose:function(){return e.setState({openConfirmDialog:!1})},title:a("Confirm delete endpoint"),message:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement(w.a,{defaults:a("Are you sure you would like to delete following endpoint in snapshot <bold>%s</bold>?").sprintf(s.name),components:{bold:h.a.createElement("strong",null)}})),h.a.createElement("div",{className:Object(g.default)(n.model,n.mt2)},h.a.createElement(q.a,{icon:Y.sc,className:n.mrhalf}),S.name),h.a.createElement("div",{className:Object(g.default)(n.mt1,n.flexCenter)},h.a.createElement("div",{className:Object(g.default)(this.getMethodClass(n,S))},S.method),h.a.createElement("div",{className:Object(g.default)(n.italic,n.disabled,n.ml1)},S.path)))),redHeader:!0,action:a("Delete"),onAction:this.deleteEndpoint}),E&&h.a.createElement(le.a,{fullWidth:!0,maxWidth:"sm",open:E,handleClose:function(){return e.setState({openRenameDialog:!1,selectedObj:null})},group:S}),y&&h.a.createElement(se.a,{fullWidth:!0,maxWidth:"sm",open:y,handleClose:function(){return e.setState({openConfirmDialogMulti:!1})},title:a("Confirm delete endpoints"),message:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{marginBottom:r.spacing(3)}},h.a.createElement(w.a,{defaults:a("Are you sure you would like to delete <bold>selected endpoints</bold> in snapshot <bold>%s</bold>?").sprintf(s.name),components:{bold:h.a.createElement("strong",null)}})),h.a.createElement("div",{className:Object(g.default)("xs"===d?null:n.itemList)},x.map((function(t){return"entry"===t._type?h.a.createElement("div",{key:t._id},h.a.createElement("div",{className:Object(g.default)(n.model,n.mt2)},h.a.createElement(q.a,{icon:Y.sc,className:n.mrhalf}),t.name),h.a.createElement("div",{className:Object(g.default)(n.mt1,n.flexCenter)},h.a.createElement("div",{className:Object(g.default)(e.getMethodClass(n,t))},t.method),h.a.createElement("div",{className:Object(g.default)(n.italic,n.disabled,n.ml1)},t.path))):null})))),redHeader:!0,action:a("Delete"),onAction:this.deleteEndpoints}),k&&h.a.createElement(ge.a,{open:k,text:a("Copied to clipboard"),onClose:function(){e.setState({copiedFlag:!1})}})):h.a.createElement(Z.a,{centered:!0},h.a.createElement(C.a,{className:n.content},h.a.createElement(C.a,{className:n.contentPlaceholder},h.a.createElement(ee.a,{message:a("Loading endpoints...")}))))}},{key:"renderContent",value:function(){var e=this,t=this.props,a=t.classes,n=t.width,r=this.state.showRightPanel,o=this.getProcessedItems();return h.a.createElement(C.a,{className:a.content},this.renderPlanConstraint(),this.renderToolBar(o),this.renderSelectedMenu(),h.a.createElement(Q.a,{rightPanel:this.renderRightPanel(),rightPanelName:"endpointsHistory",open:r,onClose:function(){return e.setState({showRightPanel:!r})}},"xs"===n||"sm"===n?this.renderGrid(o):this.renderTable(o),this.renderContextMenu(),this.renderActionFlag(),this.renderEnvSelectMenu()))}},{key:"renderActionFlag",value:function(){var e=this.state,t=e.showActionFlag,a=e.actionMessage,n=e.actionType;return t?h.a.createElement(ge.a,{open:t,onClose:this.clearFlag,text:h.a.createElement("div",null,a),type:n}):null}},{key:"renderRightPanel",value:function(){var e=this.state.showRightPanel,t=this.props,a=t.app,n=t.activeSnap,r=(0,t.authActionGroup)(["view-logs"],{app:a});return e&&r.isAuthorized?h.a.createElement(ce.a,{objectType:"endpoints",object:null,logAuth:"view-logs",commentAuth:"comment-endpoint",snapId:n._id}):null}},{key:"renderPlanConstraint",value:function(){var e=this.props,t=e.t,a=e.classes,n=e.app,r=e.activeSnap;return-1===(0,e.authAction)("create-endpoint",{app:n,activeSnap:r})?h.a.createElement("div",{className:a.block},h.a.createElement(F.a,{severity:"info",className:a.mb2},h.a.createElement(w.a,{defaults:t("The app plan has a limit of <bold>max %s endpoints per snapshot</bold> (total created by all team members). You have reached the max number of endpoints for this snapshot and you can't create new endpoints.").sprintf(n.planId.properties.endpointCountPerSnap),components:{bold:h.a.createElement("strong",null)}}))):null}},{key:"renderToolBar",value:function(e){for(var t=this,a=this.state,n=a.selectedItems,r=a.multiProgress,o=a.searchStr,i=a.showGroups,s=a.showRightPanel,l=this.props,c=l.t,d=l.classes,p=l.app,u=l.authActionGroup,m=l.authAction,f=l.activeSnap,v=l.width,b=u(["create-endpoint","update-snapshot"],{app:p,activeSnap:f}),E=u(["view-logs"],{app:p,activeSnap:f}),y=0,S=0,x=0,w=this.getFilterCount(),k=0;k<n.length;k++){var A=n[k];"entry"===A._type?(1===m("update-endpoint",{app:p,activeSnap:f,endpoint:A})&&y++,1===m("delete-endpoint",{app:p,activeSnap:f,endpoint:A})&&S++):x++}return h.a.createElement($.d,{margin:!0},h.a.createElement(P.a,{mdDown:!0},h.a.createElement($.b,null," ",this.renderCount(e))),h.a.createElement(P.a,{lgUp:!0},h.a.createElement($.b,null)),h.a.createElement(P.a,{xsDown:!0},h.a.createElement($.e,{placeholder:c("Search..."),onChange:function(e){t.setState({searchStr:e.target.value}),Object(Ee.m)("epListSearchStr",e.target.value)},width:160,value:o,clearSearch:function(){t.setState({searchStr:""}),Object(Ee.m)("epListSearchStr","")}})),(y>0&&f.endpointGroups.length>0||S>0||i&&x>0)&&n.length>0&&h.a.createElement($.a,{drop:!0,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,c("Selected")),"xs"!==v&&h.a.createElement("span",{className:Object(g.default)(d.badge,d.mlhalf)},n.length)),onClick:function(e){return t.setState({selectedMenuAnchorEl:e.currentTarget})},spinner:r}),h.a.createElement($.a,{text:h.a.createElement("div",{className:d.flexCenter},h.a.createElement(q.a,{icon:i?Y.H:Y.rd,className:Object(g.default)(d.mrhalf,i?d.success:d.error)}),c("Groups")),onClick:function(e){return t.setState({viewAnchorEl:e.currentTarget})},drop:!0}),h.a.createElement(P.a,{xsDown:!0},h.a.createElement($.a,{drop:!0,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("span",null,c("Filter")),w>0&&h.a.createElement("span",{className:Object(g.default)(d.badge,d.mlhalf)},w)),icon:K.V,onClick:function(e){return t.setState({filterAnchorEl:e.currentTarget})}})),(0!==b["create-endpoint"]||0!==b["update-snapshot"])&&h.a.createElement($.a,{action:!0,text:c("New"),icon:K.wb,onClick:function(e){return t.setState({addAnchorEl:e.currentTarget})},drop:!0}),E.isAuthorized&&("xs"===v||"sm"===v)&&h.a.createElement($.c,{icon:Y.Vb,onClick:function(){return t.setState({showRightPanel:!s})},tooltip:c("View activity history")}),this.renderFilterMenu(),this.renderViewMenu(),this.renderAddMenu())}},{key:"renderCount",value:function(e){var t=this.props,a=t.t,n=t.endpoints,r=null;return 0===n.length?r=a("No endpoints"):n.length>0&&0===e.count?r=a("No matching endpoints"):n.length===e.count?r=1===n.length?a("1 endpoint"):e.count+" "+a("endpoints"):1===e.count?r=a("1 endpoint match of")+" "+n.length:e.count>1&&(r=e.count+" "+a("endpoints match of")+" "+n.length),h.a.createElement(M.a,{variant:"h6"},r)}},{key:"renderFilterMenu",value:function(){var e=this,t=this.state.filterAnchorEl,a=this.props,n=a.t,r=a.app;return h.a.createElement(W.a,{anchorEl:t,open:Boolean(t),onClose:function(){return e.setState({filterAnchorEl:null})},elevation:4,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"}},h.a.createElement("div",null,h.a.createElement(J.f,{onChange:this.filter},h.a.createElement(J.c,{title:n("Method"),name:"method"},h.a.createElement(J.e,{title:n("GET"),name:"GET",checked:this.getFilterValue("method","GET")}),h.a.createElement(J.e,{title:n("POST"),name:"POST",checked:this.getFilterValue("method","POST")}),h.a.createElement(J.e,{title:n("PUT"),name:"PUT",checked:this.getFilterValue("method","PUT")}),h.a.createElement(J.e,{title:n("DELETE"),name:"DELETE",checked:this.getFilterValue("method","DELETE")}),h.a.createElement(J.d,null),h.a.createElement(J.c,{title:n("Status"),name:"status"},h.a.createElement(J.e,{title:n("Enabled"),name:"enabled",checked:this.getFilterValue("status","enabled")}),h.a.createElement(J.e,{title:n("Disabled"),name:"disabled",checked:this.getFilterValue("status","disabled")}))),h.a.createElement(J.c,{title:n("Session"),name:"session"},h.a.createElement(J.e,{title:n("Required"),name:"required",checked:this.getFilterValue("session","required")}),h.a.createElement(J.e,{title:n("Not required"),name:"notRequired",checked:this.getFilterValue("session","notRequired")}),h.a.createElement(J.e,{filler:!0}),h.a.createElement(J.e,{filler:!0}),h.a.createElement(J.d,null),h.a.createElement(J.c,{title:n("API key"),name:"apikey"},h.a.createElement(J.e,{title:n("Required"),name:"required",checked:this.getFilterValue("apikey","required")}),h.a.createElement(J.e,{title:n("Not required"),name:"notRequired",checked:this.getFilterValue("apikey","notRequired")}))),r.appRoles.length>0&&h.a.createElement(J.c,{title:n("Access groups"),name:"approle",maxRows:8},r.appRoles.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})).map((function(t){return h.a.createElement(J.e,{key:t._id,title:t.name,name:t.key,checked:e.getFilterValue("approle",t.key)})}))))))}},{key:"renderViewMenu",value:function(){var e=this,t=this.state,a=t.viewAnchorEl,n=t.showGroups,r=t.sortKey,o=t.order,i=this.props,s=i.t,l=i.classes,c=i.width;return h.a.createElement(T.a,{anchorEl:a,open:Boolean(a),onClose:function(){return e.setState({viewAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{icon:null},s("View")),h.a.createElement(ae.a,{onClick:this.showHideGroups,icon:Y.Db,selected:n},s("Groups")),("xs"===c||"sm"===c)&&h.a.createElement(D.a,null),("xs"===c||"sm"===c)&&h.a.createElement(re.a,{icon:null},s("Sort by")),("xs"===c||"sm"===c)&&h.a.createElement(ne.a,{icon:Y.B,text:h.a.createElement(h.a.Fragment,null,s("Date created"),"createdAt"===r&&"asc"===o?h.a.createElement("span",{className:Object(g.default)(l.ml1,l.description)},"(asc)"):null,"createdAt"===r&&"desc"===o?h.a.createElement("span",{className:Object(g.default)(l.ml1,l.description)},"(desc)"):null),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.sort2("createdAt","asc")},icon:Y.ad,selected:"createdAt"===r&&"asc"===o},s("Ascending")),h.a.createElement(ae.a,{onClick:function(){return e.sort2("createdAt","desc")},icon:Y.Zc,selected:"createdAt"===r&&"desc"===o},s("Descending"))),("xs"===c||"sm"===c)&&h.a.createElement(ne.a,{icon:Y.Yc,text:h.a.createElement(h.a.Fragment,null,s("Name"),"name"===r&&"asc"===o?h.a.createElement("span",{className:Object(g.default)(l.ml1,l.description)},"(asc)"):null,"name"===r&&"desc"===o?h.a.createElement("span",{className:Object(g.default)(l.ml1,l.description)},"(desc)"):null),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.sort2("name","asc")},icon:Y.ad,selected:"name"===r&&"asc"===o},s("Ascending")),h.a.createElement(ae.a,{onClick:function(){return e.sort2("name","desc")},icon:Y.Zc,selected:"name"===r&&"desc"===o},s("Descending"))))}},{key:"renderAddMenu",value:function(){var e=this,t=this.state.addAnchorEl,a=this.props,n=a.t,r=a.app,o=a.activeSnap,i=a.authAction,s=(0,a.authActionGroup)(["create-endpoint"],{app:r,activeSnap:o}),l=i("update-snapshot",{app:r,activeSnap:o});return h.a.createElement(h.a.Fragment,null,h.a.createElement(T.a,{anchorEl:t,open:Boolean(t),onClose:function(){return e.setState({addAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},0!==s["create-endpoint"]&&h.a.createElement(ae.a,{onClick:function(t){return e.setState({openCreateDialog:!0,addAnchorEl:null})},icon:Y.sc,disabled:1!==s["create-endpoint"]},n("Endpoint")),s.isAuthorized&&0!==l&&h.a.createElement(D.a,null),0!==l&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openCreateGroupDialog:!0,addAnchorEl:null})},icon:Y.Db,disabled:1!==l},n("Endpoint group"))))}},{key:"renderSelectedMenu",value:function(){for(var e,t=this,a=this.state,n=a.selectedMenuAnchorEl,o=a.selectedItems,i=this.props,s=i.t,l=i.classes,c=i.app,d=i.authAction,p=i.activeSnap,u=0,m=0,f=0,v=0,b=0,E=0,y=0,S=0,x=0,w=0;w<o.length;w++){var k=o[w];"entry"===k._type?(1===d("update-endpoint",{app:c,activeSnap:p,endpoint:k})&&(u++,k.enabled?m++:f++,!0===k.apiKeyRequired||void 0===k.apiKeyRequired?v++:b++,k.sessionRequired?E++:y++),1===d("delete-endpoint",{app:c,activeSnap:p,endpoint:k})&&S++):1===d("update-snapshot",{app:c,activeSnap:p})&&x++}var A=d("manage-endpoint-approle",{app:c}),O=Object(r.a)(p.endpointGroups).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})),C=(null!==(e=c.rateLimits)&&void 0!==e?e:[]).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}));return h.a.createElement(T.a,{id:"endpointsToolBarMenu",anchorEl:n,open:Boolean(n),onClose:function(){return t.setState({selectedMenuAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},u>0&&f>0&&h.a.createElement(ae.a,{onClick:this.enableEndpoints,icon:Y.H},f>1?h.a.createElement("span",null,s("Enable endpoints"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},f)):h.a.createElement("span",null,s("Enable endpoint"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},f))),u>0&&m>0&&h.a.createElement(ae.a,{onClick:this.disableEndpoints,icon:Y.rd},m>1?h.a.createElement("span",null,s("Disable endpoints"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},m)):h.a.createElement("span",null,s("Disable endpoint"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},m))),u>0&&b>0&&h.a.createElement(ae.a,{onClick:this.setApiKeys,icon:Y.H},s("Set API key requirement"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},b)),u>0&&v>0&&h.a.createElement(ae.a,{onClick:this.removeApiKeys,icon:Y.rd},s("Remove API key requirement"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},v)),u>0&&y>0&&h.a.createElement(ae.a,{onClick:this.setSessions,icon:Y.H},s("Set session requirement"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},y)),u>0&&E>0&&h.a.createElement(ae.a,{onClick:this.removeSessions,icon:Y.rd},s("Remove session requirement"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},E)),u>0&&h.a.createElement(ne.a,{icon:Y.ob,text:u>1?h.a.createElement("span",null,s("Move endpoints to group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)):h.a.createElement("span",null,s("Move endpoint to group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(n)},h.a.createElement(ae.a,{onClick:function(){return t.moveMultiToGroup({_id:-1,name:s("No group")})}},s("No group")),O.length>0&&h.a.createElement(D.a,null),O.map((function(e){return h.a.createElement(ae.a,{key:e._id,onClick:function(){return t.moveMultiToGroup(e)}},e.name)}))),u>0&&h.a.createElement(ne.a,{icon:Y.kd,text:u>1?h.a.createElement("span",null,s("Set rate limit #1 of endpoints"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)):h.a.createElement("span",null,s("Set rate limit #1 of endpoint"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(n)},h.a.createElement(ae.a,{onClick:function(){return t.setRateLimitOfMulti({_id:-1,name:s("No rate limit")})}},s("No rate limit")),C.length>0&&h.a.createElement(D.a,null),C.map((function(e){return h.a.createElement(ae.a,{key:e._id,onClick:function(){return t.setRateLimitOfMulti(e)}},e.name)}))),u>0&&h.a.createElement(ne.a,{icon:Y.kd,text:u>1?h.a.createElement("span",null,s("Set rate limit #2 of endpoints"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)):h.a.createElement("span",null,s("Set rate limit #2 of endpoint"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(n)},h.a.createElement(ae.a,{onClick:function(){return t.setRateLimit2OfMulti({_id:-1,name:s("No rate limit")})}},s("No rate limit")),C.length>0&&h.a.createElement(D.a,null),C.map((function(e){return h.a.createElement(ae.a,{key:e._id,onClick:function(){return t.setRateLimit2OfMulti(e)}},e.name)}))),u>0&&(O.length>0||C.length>0)&&h.a.createElement(D.a,null),u>0&&c.appRoles.length>0&&1===A&&h.a.createElement(ne.a,{icon:K.wb,text:h.a.createElement("span",null,s("Add access group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(n)},c.appRoles.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})).map((function(e){return h.a.createElement(ae.a,{key:e._id,onClick:function(){return t.addRoleToEndpoints(e)}},e.name)}))),u>0&&c.appRoles.length>0&&1===A&&h.a.createElement(ne.a,{icon:K.Tb,text:h.a.createElement("span",null,s("Remove access group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},u)),parentMenuOpen:Boolean(n)},c.appRoles.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})).map((function(e){return h.a.createElement(ae.a,{key:e._id,onClick:function(){return t.removeRoleFromEndpoints(e)}},e.name)}))),u>0&&c.appRoles.length>0&&1===A&&S>0&&h.a.createElement(D.a,null),S>0&&h.a.createElement(ae.a,{onClick:function(){return t.setState({openConfirmDialogMulti:!0,selectedMenuAnchorEl:null})},icon:Y.wd},S>1?h.a.createElement("span",null,s("Delete endpoints"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},S)):h.a.createElement("span",null,s("Delete endpoint"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},S))),S>0&&x>0&&h.a.createElement(D.a,null),x>0&&h.a.createElement(ae.a,{onClick:this.deleteEndpointGroups,icon:Y.Fb},x>1?h.a.createElement("span",null,s("Delete groups"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},x)):h.a.createElement("span",null,s("Delete group"),h.a.createElement("span",{className:Object(g.default)(l.badgeSmall,l.ml1)},x))))}},{key:"renderNoData",value:function(){var e=this.props,t=e.classes,a=e.t,n=e.app,r=e.activeSnap,o=(0,e.authActionGroup)(["create-endpoint"],{app:n,activeSnap:r});return h.a.createElement("div",{className:t.noDataPlaceholder},h.a.createElement(be.a,{icon:Y.sc,mainMessage:1===o["create-endpoint"]?h.a.createElement(w.a,{defaults:a("You don't have any endpoints in snapshot <bold>'%s'</bold> to work on. Click <bold>New endpoint</bold> to create one.").sprintf(r.name),components:{bold:h.a.createElement("strong",null)}}):h.a.createElement(w.a,{defaults:a("There aren't any endpoints in snapshot <bold>'%s'</bold> that are visible to you.<break/>Most probably endpoints created by your team members are created in <bold>private snapshots</bold> that are not visible to others or<break/>your authorization rights permit only view of endpoints that are created by yourself only.").sprintf(r.name),components:{bold:h.a.createElement("strong",null),break:h.a.createElement("br",null)}}),message:h.a.createElement("span",{className:t.caption},h.a.createElement(w.a,{defaults:a("Learn <link1>Endpoint Basics</link1> or explore <link2>Defining Endpoints</link2> guide"),components:{link1:h.a.createElement(R.a,{href:"https://altogic.com/docs/platform-concepts/endpoints",target:"_blank"}),link2:h.a.createElement(R.a,{href:"https://altogic.com/docs/category/defining-endpoints",target:"_blank"})}})),smallIcon:!1,action:null}))}},{key:"renderTable",value:function(e){for(var t=this,a=this.props,r=a.t,o=a.classes,i=a.app,s=a.activeSnap,l=a.authAction,c=a.team,d=a.endpoints,p=0,u=0,m=0;m<d.length;m++){var g=d[m];1===l("update-endpoint",{app:i,activeSnap:s,endpoint:g})&&p++,1===l("delete-endpoint",{app:i,activeSnap:s,endpoint:g})&&u++}var f=!1;(p>0&&s.endpointGroups.length>0||u>0||1===l("update-snapshot",{app:i,activeSnap:s}))&&(f=!0);var v=[];return v.push({width:42,type:"menu",dataKey:"menu"}),f&&v.push({width:42,type:"check",dataKey:"check"}),v.push({width:400,type:"data",dataKey:"name",label:r("Name & path"),sortKey:"name",icon:Y.ld}),v.push({width:150,type:"data",dataKey:"method",label:r("Method"),sortKey:"method"}),v.push({width:150,type:"data",dataKey:"status",label:r("Status"),sortKey:"status",icon:Y.Sb}),v.push({width:150,type:"data",dataKey:"apikey",label:r("API key"),sortKey:"apikey",icon:Y.ec}),v.push({width:150,type:"data",dataKey:"session",label:r("Session"),sortKey:"session",icon:K.Sb}),v.push({width:250,type:"data",dataKey:"service",label:r("Service"),sortKey:"service",icon:Y.vc}),v.push({width:200,type:"data",dataKey:"createdAt",label:r("Created at"),sortKey:"createdAt",flexGrow:1===c.length,icon:Y.B}),c.length>1&&v.push({width:200,type:"data",dataKey:"updatedAt",label:r("Updated at"),sortKey:"updatedAt",flexGrow:!0,icon:Y.B}),h.a.createElement("div",{style:{flexGrow:1}},h.a.createElement(z.a,null,(function(a){var r=a.height,i=a.width;return h.a.createElement(z.c,{height:r,width:i,headerHeight:Se.a.tableHeaderHeight,rowHeight:80,rowCount:e.normalizedList.length,rowGetter:function(t){var a=t.index;return e.normalizedList[a]},className:o.table,noRowsRenderer:function(){return t.noRowsRenderer(e)},rowRenderer:t.rowRenderer,overscanRowCount:5},v.map((function(a){var r=a.dataKey,o=(a.flexGrow,Object(n.a)(a,xe));return h.a.createElement(z.b,Object.assign({key:r,dataKey:r,headerRenderer:function(){return t.headerRenderer(a,e)},cellRenderer:t.cellRenderer,disableSort:!0},o,{style:{overflow:"menu"===r||"check"===r?"visible":"hidden"}}))})))})))}},{key:"renderGroup",value:function(e,t,a){var n=this,r=this.props,o=r.classes,i=r.app,s=r.activeSnap,l=r.authAction,c=this.state,d=c.progress,p=c.selectedObj,u=t.items.length,m=l("update-snapshot",{app:i,activeSnap:s}),f=this.isExpanded(t._id);switch(e){case"menu":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(o.contextMenuCell,o.noBorder)},d&&p._id===t._id?h.a.createElement(I.a,{size:20}):h.a.createElement(N.a,{className:o.contextMenuButton,onClick:function(e){return n.showContextMenu(e,t)},disabled:d||1!==m},h.a.createElement(q.a,{icon:H.k,className:o.contextMenuIcon})));case"check":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(o.contextMenuCell,o.noBorder)},h.a.createElement(L.a,{checked:this.isChecked(t),onChange:function(){return n.manageGroupSelection(t)},color:"primary"}));case"name":return h.a.createElement(_.a,{component:"div",className:Object(g.default)(o.dataCell,o.noBorder)},h.a.createElement("div",{className:Object(g.default)(o.body1,o.bold,o.flexCenter,o.flexGrow)},h.a.createElement("span",{className:o.pointer,onClick:function(){f?n.collapseGroup(t._id):n.expandGroup(t._id)}},h.a.createElement(q.a,{icon:f?K.d:K.e,className:Object(g.default)(o.mr1),fixedWidth:!0}),h.a.createElement(q.a,{icon:V.f,className:Object(g.default)(o.mr1,o.folderColor)}),h.a.createElement("span",null,t.name),h.a.createElement("span",{className:Object(g.default)(o.ml1,o.secondary,o.italic)},"(",u,")"))));default:return null}}},{key:"renderEntry",value:function(e,t,a){var n=this,r=this.props,o=r.t,i=r.theme,s=r.classes,l=r.app,c=r.user,d=r.activeSnap,p=r.authActionGroup,u=this.state,m=u.searchStr,f=u.progress,b=u.selectedObj,y=u.showGroups,S=l.planId.properties,x=this.getDeployedEnvs(),w=p(["update-endpoint","delete-endpoint","view-endpoint","view-service"],{app:l,activeSnap:d,endpoint:t,service:t.service}),k=!(!t.groupId||!y);switch(e){case"menu":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.contextMenuCell,s.noBorder)},f&&b._id===t._id?h.a.createElement(I.a,{size:20}):h.a.createElement(N.a,{className:s.contextMenuButton,onClick:function(e){return n.showContextMenu(e,t)},disabled:f||1!==w["update-endpoint"]&&1!==w["delete-endpoint"]},h.a.createElement(q.a,{icon:H.k,className:s.contextMenuIcon})));case"check":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.contextMenuCell,s.noBorder)},h.a.createElement(L.a,{checked:this.isChecked(t),onChange:function(){return n.manageSelection(t)},color:"primary"}));case"method":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.dataCell,s.breakWord,s.noBorder)},h.a.createElement("div",{className:Object(g.default)(this.getMethodClass(s,t))},t.method));case"name":return h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.noBorder,s.dataCell)},1===w["view-endpoint"]&&h.a.createElement("div",{className:Object(g.default)(s.flexStack,s.overflowHidden)},h.a.createElement("div",{className:Object(g.default)(k?s.pl5:null,s.ellipsis)},h.a.createElement("span",{onClick:function(){return n.setState({openCreateDialog:!0,selectedObj:t})},className:Object(g.default)(s.anchor,s.bold)},h.a.createElement(q.a,{icon:Y.sc,className:s.mr1}),this.hasValidationErrors(t._id)>0&&h.a.createElement(q.a,{icon:K.O,className:Object(g.default)(s.error,s.mr1),fixedWidth:!0}),h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.name})),h.a.createElement(me,{rateLimit:this.getRateLimit(t.rateLimitId)}),h.a.createElement(me,{rateLimit:this.getRateLimit(t.rateLimitId2)}),h.a.createElement(pe.a,{text:t.description,type:"endpoint"}),S.allowAppRoleManagement&&l.appRoles.length>0&&t.sessionRequired&&t.authorizedAppRoles&&t.authorizedAppRoles.length>0&&h.a.createElement(he.a,{icon:Y.ac},h.a.createElement("div",{className:Object(g.default)(s.bold,s.mb1)},o("Access groups")),t.authorizedAppRoles.map((function(e){var t=l.appRoles.find((function(t){return t.key===e}));return t?h.a.createElement("div",{key:t._id,style:{marginTop:i.spacing(.5)}},h.a.createElement(B.a,{size:"small",label:h.a.createElement("span",null,h.a.createElement(q.a,{icon:Y.ac,style:{marginRight:i.spacing(.5)},fixedWidth:!0}),t.name),style:{backgroundColor:"light"===i.palette.type?i.palette.action.selected:i.palette.background.layer3,color:i.palette.text.primary}})):null})))),h.a.createElement("div",{className:Object(g.default)(k?s.pl5:null,s.disabled,s.italic,s.ellipsis)},1===x.length&&h.a.createElement("div",{className:Object(g.default)(s.copyContainer,s.copyCaption,s.disabled),onClick:function(){var e=x[0],a=null;a=e.engineURL+"/e:"+e._id,n.copyToClipboard(a+t.path),n.setState({copiedFlag:!0})}},h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.path}),h.a.createElement(q.a,{icon:K.y,className:s.mlhalf})),x.length>1&&h.a.createElement("div",{className:Object(g.default)(s.copyContainer,s.copyCaption,s.disabled),onClick:function(e){return n.setState({selectedObj:t,envAnchorEl:e.currentTarget})}},h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.path}),h.a.createElement(q.a,{icon:K.y,className:s.mlhalf})),0===x.length&&h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.path}))),1!==w["view-endpoint"]&&h.a.createElement("div",{className:Object(g.default)(k?s.pl5:null)},h.a.createElement(q.a,{icon:Y.sc,className:s.mr1}),h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.name})));case"status":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.pr2,s.noBorder)},h.a.createElement(B.a,{label:h.a.createElement("span",null,h.a.createElement(q.a,{icon:t.enabled?Y.H:Y.rd,className:s.mrhalf,fixedWidth:!0}),t.enabled?o("Enabled"):o("Disabled")),className:Object(g.default)(s.body2,t.enabled?s.success:s.error,s.bgcolor)}));case"apikey":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.pr2,s.noBorder)},h.a.createElement(B.a,{label:h.a.createElement("span",null,h.a.createElement(q.a,{icon:t.apiKeyRequired?Y.cd:Y.lb,className:Object(g.default)(s.mrhalf,t.apiKeyRequired?s.primaryMain:s.warning),fixedWidth:!0}),t.apiKeyRequired?o("Required"):o("Optional")),className:Object(g.default)(s.bgcolor,s.body2)}));case"session":return h.a.createElement(_.a,{component:"div",align:"center",className:Object(g.default)(s.pr2,s.noBorder)},h.a.createElement(B.a,{label:h.a.createElement("span",null,h.a.createElement(q.a,{icon:t.sessionRequired?Y.cd:Y.lb,className:Object(g.default)(s.mrhalf,t.sessionRequired?s.primaryMain:s.warning),fixedWidth:!0}),t.sessionRequired?o("Required"):o("Optional")),className:Object(g.default)(s.bgcolor,s.body2)}));case"service":return h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.noBorder,s.dataCell)},h.a.createElement("div",{className:Object(g.default)(s.flexStack,s.overflowHidden)},h.a.createElement("div",{className:s.ellipsis},t.service&&1===w["view-service"]&&h.a.createElement(R.a,{href:"#",component:O.a,to:"full-code"===t.serviceType?"/users/".concat(c._id,"/apps/").concat(l._id,"/snaps/").concat(d._id,"/services?type=$full-code"):"/users/".concat(c._id,"/apps/").concat(l._id,"/snaps/").concat(d._id,"/services/").concat(t.service._id,"?type=no-code")},h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.service.name})),t.service&&1!==w["view-service"]&&h.a.createElement(E.a,{highlightClassName:s.highlight,searchWords:[m],autoEscape:!0,textToHighlight:t.service.name}))));case"createdAt":return h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.breakWord,s.noBorder)},h.a.createElement("div",{className:s.flexCenter},h.a.createElement(de.a,{user:this.getMember(t.createdBy),size:"small"}),h.a.createElement("div",{className:s.ml1},h.a.createElement("div",null,v()(t.createdAt).format("MMM Do, YYYY")),h.a.createElement("div",{className:Object(g.default)(s.italic,s.disabled,s.caption)},v()(t.createdAt).format("hh:mm a")))));case"updatedAt":return h.a.createElement(_.a,{component:"div",className:Object(g.default)(s.breakWord,s.noBorder)},t.updatedAt&&t.updatedBy?h.a.createElement("div",{className:s.flexCenter},h.a.createElement(de.a,{user:this.getMember(t.updatedBy),size:"small"}),h.a.createElement("div",{className:s.ml1},h.a.createElement("div",null,v()(t.updatedAt).format("MMM Do, YYYY")),h.a.createElement("div",{className:Object(g.default)(s.italic,s.disabled,s.caption)},v()(t.updatedAt).format("hh:mm a")))):null);default:return null}}},{key:"renderContextMenu",value:function(){var e=this,t=this.state,a=t.contextAnchorEl,n=t.selectedObj,o=this.props,i=o.t,s=o.classes,l=o.authActionGroup,c=o.authAction,d=o.app,p=o.activeSnap;if(!n)return null;if("entry"===n._type){var u,m=n,f=this.getGroup(n),v=this.getRateLimit(n.rateLimitId),b=this.getRateLimit(n.rateLimitId2),E=l(["update-endpoint","delete-endpoint","manage-endpoint-approle"],{app:d,activeSnap:p,endpoint:m});if(!1===E.isAuthorized)return null;var y=Object(r.a)(p.endpointGroups).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})),S=(null!==(u=d.rateLimits)&&void 0!==u?u:[]).sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}));return h.a.createElement(T.a,{id:"endpointPopUpMenu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:this.closeContextMenu,elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{key:0,icon:Y.sc,color:!0},m.method+" - "+n.fullName),1===E["update-endpoint"]&&m.enabled&&h.a.createElement(ae.a,{onClick:this.disableEndpoint,icon:Y.rd},i("Disable endpoint")),1===E["update-endpoint"]&&!1===m.enabled&&h.a.createElement(ae.a,{onClick:this.enableEndpoint,icon:Y.H},i("Enable endpoint")),1===E["update-endpoint"]&&(void 0===m.apiKeyRequired||!0===m.apiKeyRequired)&&h.a.createElement(ae.a,{onClick:this.removeApiKey,icon:Y.rd},i("Remove API key requirement")),1===E["update-endpoint"]&&!1===m.apiKeyRequired&&h.a.createElement(ae.a,{onClick:this.setApiKey,icon:Y.H},i("Add API key requirement")),1===E["update-endpoint"]&&m.sessionRequired&&h.a.createElement(ae.a,{onClick:this.removeSession,icon:Y.rd},i("Remove session requirement")),1===E["update-endpoint"]&&!1===m.sessionRequired&&h.a.createElement(ae.a,{onClick:this.setSession,icon:Y.H},i("Add session requirement")),1===E["update-endpoint"]&&h.a.createElement(D.a,null),1===E["update-endpoint"]&&h.a.createElement(ne.a,{icon:Y.ob,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:s.flexStack},h.a.createElement("span",null,i("Move to group")),f?h.a.createElement("span",{className:Object(g.default)(s.caption,s.italic,s.disabled)},f.name):null)),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.moveToGroup({_id:-1,name:i("No group")})},selected:!f},i("No group")),y.length>0&&h.a.createElement(D.a,null),y.map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.moveToGroup(t)},selected:!(!f||f._id!==t._id)},t.name)}))),1===E["update-endpoint"]&&h.a.createElement(ne.a,{icon:Y.kd,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:s.flexStack},h.a.createElement("span",null,i("Set rate limit #1")),v?h.a.createElement("span",{className:Object(g.default)(s.caption,s.italic,s.disabled)},v.name):null)),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.setRateLimit({_id:-1,name:i("No rate limit")})},selected:!v},i("No rate limit")),S.length>0&&h.a.createElement(D.a,null),S.map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.setRateLimit(t)},selected:!(!v||v._id!==t._id)},t.name)}))),1===E["update-endpoint"]&&h.a.createElement(ne.a,{icon:Y.kd,text:h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:s.flexStack},h.a.createElement("span",null,i("Set rate limit #2")),b?h.a.createElement("span",{className:Object(g.default)(s.caption,s.italic,s.disabled)},b.name):null)),parentMenuOpen:Boolean(a)},h.a.createElement(ae.a,{onClick:function(){return e.setRateLimit2({_id:-1,name:i("No rate limit")})},selected:!b},i("No rate limit")),S.length>0&&h.a.createElement(D.a,null),S.map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.setRateLimit2(t)},selected:!(!b||b._id!==t._id)},t.name)}))),1===E["update-endpoint"]&&(1===E["manage-endpoint-approle"]&&(m.authorizedAppRoles.length<d.appRoles.length||m.authorizedAppRoles.length>0)||1===E["delete-endpoint"])&&h.a.createElement(D.a,null),1===E["manage-endpoint-approle"]&&m.authorizedAppRoles.length<d.appRoles.length&&h.a.createElement(ne.a,{icon:K.wb,text:i("Add access group"),parentMenuOpen:Boolean(a)},d.appRoles.filter((function(e){return!1===m.authorizedAppRoles.includes(e.key)})).map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){return e.addRoleToEndpoint(t)}},t.name)}))),1===E["manage-endpoint-approle"]&&m.authorizedAppRoles.length>0&&h.a.createElement(ne.a,{icon:K.Tb,text:i("Remove access group"),parentMenuOpen:Boolean(a)},m.authorizedAppRoles.map((function(t){var a=d.appRoles.find((function(e){return e.key===t}));return a?h.a.createElement(ae.a,{key:a._id,onClick:function(){return e.removeRoleFromEndpoint(a)}},a.name):null}))),1===E["manage-endpoint-approle"]&&(m.authorizedAppRoles.length<d.appRoles.length||m.authorizedAppRoles.length>0)&&1===E["delete-endpoint"]&&h.a.createElement(D.a,null),1===E["delete-endpoint"]&&h.a.createElement(ae.a,{onClick:function(){return e.setState({openConfirmDialog:!0,contextAnchorEl:null})},icon:Y.wd},i("Delete endpoint")))}if("group"===n._type){for(var x=c("update-snapshot",{app:d,activeSnap:p}),w=!1,k=0;k<n.items.length;k++){var A=n.items[k];if(1===c("delete-endpoint",{app:d,activeSnap:p,endpoint:A})){w=!0;break}}return h.a.createElement(T.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:this.closeContextMenu,elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"}},h.a.createElement(re.a,{key:0,icon:Y.Db,color:!0},n.name),1===x&&h.a.createElement(ae.a,{onClick:function(){return e.setState({contextAnchorEl:null,openRenameDialog:!0})},icon:Y.kb},i("Rename group")),1===x&&h.a.createElement(D.a,null),1===x&&h.a.createElement(ae.a,{onClick:this.deleteEndpointGroup,icon:Y.Fb},i("Delete group")),1===x&&w&&h.a.createElement(ae.a,{onClick:this.deleteGroupAndEndpoints,icon:Y.wd},i("Delete group & endpoints")))}}},{key:"renderEnvSelectMenu",value:function(){var e=this,t=this.props.t,a=this.state,n=a.envAnchorEl,r=a.selectedObj,o=this.getDeployedEnvs();return h.a.createElement(T.a,{id:"envSelectPopupMenu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){return e.setState({selectedObj:null,envAnchorEl:null})},elevation:4,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},h.a.createElement(re.a,{key:0,icon:Y.sc,color:!0},t("Select environment")),o.map((function(t){return h.a.createElement(ae.a,{key:t._id,onClick:function(){var a=null;a=t.engineURL+"/e:"+t._id,e.setState({copiedText:a+r.path,envAnchorEl:null,selectedObj:null})},icon:Object(ye.f)(t.type)},t.name)})))}},{key:"renderGrid",value:function(e){var t=this,a=this.state.showGroups,n=this.props,r=n.t,o=n.classes,i=n.activeSnap,s=n.services;return h.a.createElement(h.a.Fragment,null,0===s.length&&(0===i.endpointGroups.length||!1===a)&&this.renderNoData(),0===e.count&&this.hasFilters()&&h.a.createElement("div",{className:o.noDataPlaceholder},h.a.createElement(be.a,{icon:Y.vc,mainMessage:r("No  matching filter criteria"),message:r("Didn't find what you're looking for? Some endpoints may be hidden because of the filters you've selected."),smallIcon:!0,action:r("Reset filters"),actionIcon:Y.xd,callBack:this.resetFilters,searchResult:!0})),h.a.createElement(C.a,{className:o.gridArea,style:{justifyContent:"center"}},e.hierarchy.map((function(e){return"group"===e._type?t.renderGridGroup(e):t.renderGridItem(e)}))))}},{key:"renderGridGroup",value:function(e){var t=this,a=this.state,n=a.progress,r=a.selectedObj,o=this.props,i=o.t,s=o.classes,l=o.theme,c=o.app,d=o.activeSnap,p=(0,o.authAction)("update-snapshot",{app:c,activeSnap:d}),u=this.isExpanded(e._id);return h.a.createElement(G.a,{key:e._id,className:Object(g.default)(s.gridGroup),variant:"outlined"},h.a.createElement("div",{className:Object(g.default)(s.padding2,s.body1,s.flexCenter)},h.a.createElement("div",{className:Object(g.default)(s.flexCenter,s.flexGrow,s.pointer),onClick:function(){u?t.collapseGroup(e._id):t.expandGroup(e._id)}},h.a.createElement(q.a,{icon:u?K.d:K.e,className:Object(g.default)(s.mr1),fixedWidth:!0}),h.a.createElement(q.a,{icon:V.f,className:Object(g.default)(s.mr1,s.folderColor)}),h.a.createElement("span",null,e.name),e.items.length>0&&h.a.createElement("span",{className:Object(g.default)(s.ml1,s.secondary,s.italic)},"(",e.items.length,")"),0===e.items.length&&h.a.createElement("span",{className:Object(g.default)(s.ml1,s.secondary,s.italic)},"(",i("No endpoints"),")")),h.a.createElement("div",{className:s.flexCenter},n&&r._id===e._id?h.a.createElement(I.a,{size:20}):h.a.createElement(N.a,{className:s.contextMenuButton,onClick:function(a){return t.showContextMenu(a,e)},disabled:n||1!==p},h.a.createElement(q.a,{icon:H.k,className:s.contextMenuIcon})))),e.items.length>0&&u&&h.a.createElement("div",{style:{padding:l.spacing(0,1,1,1)}},e.items.map((function(e){return h.a.createElement("div",{key:e._id,style:{padding:l.spacing(0,1,0,1)}},t.renderGridItem(e))}))))}},{key:"renderGridItem",value:function(e){var t=this,a=this.state,n=a.searchStr,r=a.progress,o=a.selectedObj,i=a.showGroups,s=this.props,l=s.t,c=s.classes,d=s.theme,p=s.user,u=s.app,m=s.activeSnap,f=s.history,v=s.authActionGroup,b=v(["view-endpoint","update-endpoint","delete-endpoint"],{app:u,activeSnap:m,endpoint:e}),S=v(["view-service"],{app:u,activeSnap:m,service:e.service}),x=e.createdBy,w=e.createdAt;e.updatedAt&&e.updatedBy&&(x=e.updatedBy,w=e.updatedAt);var k=this.getGroup(e);return h.a.createElement(G.a,{key:e.groupId?e.groupId+"."+e._id:e._id,className:Object(g.default)(c.gridItem,e.groupId&&!1!==i?null:c.fullWidth),variant:"outlined"},h.a.createElement("div",{className:c.gridItemLogo},h.a.createElement(q.a,{icon:e.enabled?Y.H:Y.rd})),h.a.createElement("div",{className:Object(g.default)(c.gridItemHeader,1===b["update-endpoint"]?c.gridItemHeaderLink:null),onClick:function(){return 1===b["update-endpoint"]?t.setState({openCreateDialog:!0,selectedObj:e}):null}},h.a.createElement("div",null,h.a.createElement(q.a,{icon:Y.sc,style:{marginRight:d.spacing(.5)}})),h.a.createElement("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},h.a.createElement(E.a,{highlightClassName:c.highlight,searchWords:[n],autoEscape:!0,textToHighlight:e.name}))),h.a.createElement("div",{className:c.gridItemContent},h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement("span",{className:Object(g.default)(c.method,this.getMethodClass(c,e)),style:{marginRight:d.spacing(1)}},e.method),e.path),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(q.a,{icon:V.f,style:{marginRight:d.spacing(.5),color:"#ffd600"},fixedWidth:!0}),k?k.name:l("No group")),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(q.a,{icon:e.enabled?Y.H:Y.rd,style:{marginRight:d.spacing(.5),color:e.enabled?d.palette.success.main:d.palette.error.main},fixedWidth:!0}),e.enabled?l("Enabled"):l("Disabled")),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(q.a,{icon:void 0===e.apiKeyRequired||!0===e.apiKeyRequired?Y.H:Y.rd,style:{marginRight:d.spacing(.5),color:void 0===e.apiKeyRequired||!0===e.apiKeyRequired?d.palette.success.main:d.palette.error.main},fixedWidth:!0}),void 0===e.apiKeyRequired||!0===e.apiKeyRequired?l("API key required"):l("API key not required")),h.a.createElement("div",{className:c.gridItemContentEntry},h.a.createElement(q.a,{icon:e.sessionRequired?Y.H:Y.rd,style:{marginRight:d.spacing(.5),color:e.sessionRequired?d.palette.success.main:d.palette.error.main},fixedWidth:!0}),e.sessionRequired?l("Session required"):l("Session not required")),e.authorizedAppRoles.length>0&&h.a.createElement("div",{className:c.gridItemContentEntry2},e.authorizedAppRoles.map((function(e){var t=u.appRoles.find((function(t){return t.key===e}));return t?h.a.createElement(B.a,{key:t._id,size:"small",label:h.a.createElement("span",null,h.a.createElement(q.a,{icon:Y.ac,style:{marginRight:d.spacing(.5)},fixedWidth:!0}),t.name),style:{backgroundColor:"light"===d.palette.type?d.palette.action.selected:d.palette.background.layer3,color:d.palette.text.primary,margin:d.spacing(.5,.5,0,0)}}):null}))),e.service&&h.a.createElement("div",{className:Object(g.default)(c.gridItemContentEntry,1===S["view-service"]?c.gridItemContentEntryLink:c.gridItemContentEntryDisabled),onClick:function(){return 1===S["view-service"]?f.push("full-code"===e.serviceType?"/users/".concat(p._id,"/apps/").concat(u._id,"/snaps/").concat(m._id,"/services?type=$full-code"):"/users/".concat(p._id,"/apps/").concat(u._id,"/snaps/").concat(m._id,"/services/").concat(e.service._id,"?type=no-code")):null}},h.a.createElement(q.a,{icon:Y.vc,style:{marginRight:d.spacing(.5),color:"light"===d.palette.type?d.palette.primary.main:d.palette.primary.linkForDark},fixedWidth:!0}),e.service.name)),h.a.createElement("div",{className:c.gridItemFooter},h.a.createElement("div",{style:{flexGrow:1}},w&&x?h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},h.a.createElement(de.a,{user:this.getMember(x),size:"small"}),h.a.createElement("div",{style:{marginLeft:d.spacing(1)}},h.a.createElement("div",{style:{color:d.palette.text.disabled,fontSize:d.typography.caption.fontSize}},Object(y.a)(w)))):null),h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r&&o._id===e._id?h.a.createElement("div",{style:{padding:d.spacing(0,.5)}},h.a.createElement(I.a,{size:24})):h.a.createElement(N.a,{className:c.contextMenuButton,onClick:function(a){return t.showContextMenu(a,e)},disabled:r||1!==b["update-endpoint"]&&1!==b["delete-endpoint"]},h.a.createElement(q.a,{icon:H.k,className:c.contextMenuIcon})))))}},{key:"getHierarchyEntry",value:function(e,t){for(var a=e.hierarchy,n=0;n<a.length;n++){var r=a[n];if(r._id===t._id)return r;if("group"===r._type)for(var o=0;o<r.items.length;o++){var i=r.items[o];if(i._id===t._id)return i}}return null}},{key:"getMember",value:function(e){var t=this.props,a=t.t,n=t.team,r=Object(Ee.e)(e);if(r)return r;for(var o=0;o<n.length;o++){var i=n[o];if(i.userId._id===e)return i.userId}return{_id:e,profile:{userName:a("Former-member"),email:e,firstName:null,lastName:null,imgUrl:null}}}},{key:"addFilter",value:function(e,t){for(var a=this.state.filter,n=!1,r=0;r<a.length;r++){var o=a[r];if(o.name===e){o.items.push(t),n=!0;break}}return n||a.push({name:e,items:[t]}),a}},{key:"removeFilter",value:function(e,t){for(var a=this.state.filter,n=null,r=0;r<a.length;r++){var o=a[r];if(o.name===e){n=o,o.items=o.items.filter((function(e){return e!==t}));break}}return n&&0===n.items.length&&(a=a.filter((function(t){return t.name!==e}))),a}},{key:"getFilterValue",value:function(e,t){for(var a=this.state.filter,n=0;n<a.length;n++){var r=a[n];if(r.name===e)for(var o=0;o<r.items.length;o++){if(r.items[o]===t)return!0}}return!1}},{key:"getFilterCount",value:function(){for(var e=this.state.filter,t=0,a=0;a<e.length;a++){t+=e[a].items.length}return t}},{key:"applyFilters",value:function(e){for(var t=this,a=this.state.filter,n=function(n){var r=a[n];"method"===r.name?e=e.filter((function(e){return t.matchMethod(r.items,e.method)})):"status"===r.name?e=e.filter((function(e){return t.matchEnabled(r.items,e.enabled)})):"session"===r.name?e=e.filter((function(e){return t.matchSession(r.items,e.sessionRequired)})):"apikey"===r.name?e=e.filter((function(e){return t.matchApiKey(r.items,e.apiKeyRequired)})):"approle"===r.name&&(e=e.filter((function(e){return t.matchAppRoles(r.items,e.authorizedAppRoles)})))},r=0;r<a.length;r++)n(r);return e}},{key:"matchMethod",value:function(e,t){for(var a=0;a<e.length;a++){if("GET"===e[a]&&"GET"===t)return!0;if("POST"===e[a]&&"POST"===t)return!0;if("PUT"===e[a]&&"PUT"===t)return!0;if("DELETE"===e[a]&&"DELETE"===t)return!0}return!1}},{key:"matchEnabled",value:function(e,t){for(var a=0;a<e.length;a++){if("enabled"===e[a]&&t)return!0;if("disabled"===e[a]&&!t)return!0}return!1}},{key:"matchSession",value:function(e,t){for(var a=0;a<e.length;a++){if("required"===e[a]&&t)return!0;if("notRequired"===e[a]&&!t)return!0}return!1}},{key:"matchApiKey",value:function(e,t){for(var a=0;a<e.length;a++){if("required"===e[a]&&t)return!0;if("notRequired"===e[a]&&!t)return!0}return!1}},{key:"matchAppRoles",value:function(e,t){for(var a=0;a<e.length;a++)if(t.includes(e[a]))return!0;return!1}},{key:"getProcessedItems",value:function(){var e,t=this.props,a=t.endpoints,n=t.activeSnap,i=this.state,s=i.order,l=i.sortKey,c=i.searchStr,d=i.showGroups,p="asc"===s?1:-1,u=Object(r.a)(a);if(c&&c.length>0){var m=new RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");u=u.filter((function(e){var t=e.name.search(m)>=0||e.path.search(m)>=0;if(e.service){var a=e.service.name.search(m)>=0;return t||a}return t}))}u=this.applyFilters(u),"name"===l?u.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1*p:a>n?1*p:0})):"method"===l?u.sort((function(e,t){var a=e.method.toLowerCase(),n=t.method.toLowerCase();return a<n?-1*p:a>n?1*p:0})):"status"===l?u.sort((function(e,t){var a=e.enabled?1:0,n=t.enabled?1:0;return a<n?-1*p:a>n?1*p:0})):"apikey"===l?u.sort((function(e,t){var a=void 0===e.apiKeyRequired||!0===e.apiKeyRequired?1:0,n=void 0===t.apiKeyRequired||!0===t.apiKeyRequired?1:0;return a<n?-1*p:a>n?1*p:0})):"session"===l?u.sort((function(e,t){var a=e.sessionRequired?1:0,n=t.sessionRequired?1:0;return a<n?-1*p:a>n?1*p:0})):"service"===l?u.sort((function(e,t){var a=e.service?e.service.name.toLowerCase():"",n=t.service?t.service.name.toLowerCase():"";return a<n?-1*p:a>n?1*p:0})):"createdAt"===l?u.sort((function(e,t){return(new Date(e.createdAt)-new Date(t.createdAt))*p})):"updatedAt"===l&&u.sort((function(e,t){return((e.updatedAt&&e.updatedBy?new Date(e.updatedAt):new Date)-(t.updatedAt&&t.updatedBy?new Date(t.updatedAt):new Date))*p})),e=u.length;var h=[];d&&(h=Object(r.a)(n.endpointGroups).sort((function(e,t){if("name"===l){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1*p:a>n?1*p:0}if("createdAt"===l)return(new Date(e.createdAt)-new Date(t.createdAt))*p;var r=e.name.toLowerCase(),o=t.name.toLowerCase();return r<o?-1:r>o?1:0})).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{_type:"group",items:[]})})));for(var g=[],f=0;f<u.length;f++){for(var v=u[f],b=!1,E=0;E<h.length;E++){var y=h[E];v.groupId&&v.groupId===y._id&&(y.items.push(Object(o.a)(Object(o.a)({},v),{},{_type:"entry"})),b=!0)}!1===b&&g.push(Object(o.a)(Object(o.a)({},v),{},{_type:"entry",isLastItem:!1}))}this.hasFilters()&&(h=h.filter((function(e){return e.items.length>0})));for(var S=[],x=0;x<h.length;x++){var w=h[x];S.push(w),this.isExpanded(w._id)&&(S.push.apply(S,Object(r.a)(w.items)),w.items&&w.items.length>0&&(w.items[w.items.length-1].isLastItem=!0))}return S.push.apply(S,g),{hierarchy:[].concat(Object(r.a)(h),g),normalizedList:S,count:e}}},{key:"hasValidationErrors",value:function(e){var t=this.props.validationResults;if(!t||!t.errors)return 0;for(var a=0;a<t.errors.length;a++){var n=t.errors[a];if("endpoint"===n.type&&n.id===e)return n.totalErrors}return 0}},{key:"getDeployedEnvs",value:function(){for(var e=this.props,t=e.activeSnap,a=e.envs,n=[],r=0;r<a.length;r++){var o,i=a[r];(null===(o=i.snapId)||void 0===o?void 0:o._id)===t._id&&n.push(i)}return n.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}))}},{key:"copyToClipboard",value:function(e){if(navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(e);var t=document.createElement("textarea");return t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),new Promise((function(e,a){document.execCommand("copy")?e():a(),t.remove()}))}}]),a}(h.a.Component),ke=function(e,t,a){if(!t||!e||!a)return null;for(var n=[],r=function(r){var i=e[r],s=t.find((function(e){return e.iname===i.serviceiname}));s?n.push(Object(o.a)(Object(o.a)({},i),{},{service:s,serviceType:"no-code"})):(s=a.find((function(e){return e.iname===i.serviceiname})))?n.push(Object(o.a)(Object(o.a)({},i),{},{service:s,serviceType:"full-code"})):n.push(Object(o.a)(Object(o.a)({},i),{},{service:null,serviceType:"no-code"}))},i=0;i<e.length;i++)r(i);return n};t.default=Object(S.b)((function(e){return{user:e.user,app:e.app,team:e.team,envs:e.envs,activeSnap:e.activeSnap,services:e.services,codeFunctions:e.codeFunctions,endpoints:ke(e.endpoints,e.services,e.codeFunctions),openDialog:e.openDialog,validationResults:e.validationResults}}),{authActionGroup:ve.b,authAction:ve.a,getAppAction:fe.fc,getAppTeamAction:fe.pc,getSnapshotAction:fe.wd,setActiveSnapshotAction:fe.Je,getModelsAction:fe.ad,getServicesAction:fe.sd,getEndpointsAction:fe.Dc,enableEndpointsAction:fe.bc,disableEndpointsAction:fe.Vb,setApiKeyEndpointsAction:fe.Ke,removeApiKeyEndpointsAction:fe.he,setSessionEndpointsAction:fe.Ue,removeSessionEndpointsAction:fe.pe,addRoleToEndpointsAction:fe.n,removeRoleFromEndpointsAction:fe.oe,deleteEndpointsAction:fe.sb,moveEndpointsToGroupAction:fe.Rd,deleteEndpointGroupAction:fe.rb,deleteMultiEndpointGroupAction:fe.Cb,getEnvsAction:fe.Mc,setRateLimitOfEndpointsAction:fe.Se,setRateLimitOfEndpointsAction2:fe.Te,getCodeFunctionsAction:fe.xc})(Object(A.a)()(Object(x.a)(X,{withTheme:!0})(Object(k.a)()(we))))}}]);